(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{29:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},53:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(25),r=n.n(s),i=(n(44),n(45),n(8)),o=n(10),l=n(2),u=n.n(l),d=n(5),j=n(12),h=n(13),b="https://wordsly-client.azurewebsites.net",p="https://wordsly-admin.azurewebsites.net",x="https://wordsly-translator.azurewebsites.net",m="".concat(b,"/hub/quota"),O="".concat(x,"/hub/strings"),f="".concat(x,"/hub/comments"),v=n(11),g=n(34),w=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,n);case 2:return a=e.sent,e.prev=3,e.next=6,a.json();case 6:if(!(c=e.sent).isSuccess){e.next=9;break}return e.abrupt("return",c.data);case 9:throw new Error(c.errorMessage);case 12:throw e.prev=12,e.t0=e.catch(3),"The refresh token is not valid."===e.t0.message&&(localStorage.clear(),location.reload()),e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w("".concat(b,"/api/Auth/sign-in"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w("".concat(b,"/api/Auth/sign-up"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w("".concat(b,"/api/Auth/refresh"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=!1;function S(e){var t=Object(g.a)(e).exp,n=(new Date).getTime()/1e3;return!!(t&&n>t)}var C,P=function(e){localStorage.setItem("authorizationToken",e.authorizationToken),localStorage.setItem("refreshToken",e.refreshToken)},T=function(){return localStorage.getItem("refreshToken")},L=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("authorizationToken"),n=T(),t&&n){e.next=4;break}return e.abrupt("return",null);case 4:if(!S(t)||k){e.next=12;break}return k=!0,e.next=8,y({authorizationToken:t,refreshToken:n});case 8:return a=e.sent,P(a),k=!1,e.abrupt("return",a.authorizationToken);case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(e){localStorage.setItem("role",e)},E=function(){return localStorage.getItem("role")||""},I=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",t);case 5:if(!t){e.next=7;break}return e.abrupt("return",Object(v.a)(Object(v.a)({},t),{},{headers:Object(v.a)(Object(v.a)({},t.headers),{},{Authorization:"Bearer ".concat(n)})}));case 7:return e.abrupt("return",{headers:{Authorization:"Bearer ".concat(n)}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(n);case 2:return a=e.sent,e.abrupt("return",w(t,a));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U("".concat(p,"/api/Languages")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(e){return U("".concat(p,"/api/Languages/").concat(e),{method:"PUT"})},D=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U("".concat(p,"/api/Subjects")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(e){return U("".concat(p,"/api/Subjects/").concat(e),{method:"DELETE"})},B=(n(53),n(3)),J=n(15),M=n.n(J),H=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/,W=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,$=function(){return U("".concat(p,"/api/Users"))},Q=function(e){return U("".concat(p,"/api/Users/").concat(e))},R=function(e){return U("".concat(p,"/api/Users/translator/").concat(e))},V=function(){return U("".concat(p,"/api/Users/projects-info"))},G=function(e,t){return U("".concat(p,"/api/Users/name"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstname:e,lastname:t})})},K=function(e,t){return U("".concat(p,"/api/Users/personal-info"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({website:e,company:t})})},Z=function(e){return U("".concat(p,"/api/Users/email"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})})},X=function(e,t){return U("".concat(p,"/api/Users/password"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({oldPassword:e,newPassword:t})})},Y=function(){return U("".concat(p,"/api/Users/translator-info"))},ee=function(e){return U("".concat(p,"/api/Users/all?accountType=").concat(e))};!function(e){e.SetUser="user/set"}(C||(C={}));var te,ne={setUser:function(e){return{type:C.SetUser,value:e}},loadUser:function(){return function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T()){e.next=8;break}return e.next=3,$();case 3:n=e.sent,z(n.accountType.toString()),t(ne.setUser(n)),e.next=10;break;case 8:z(""),t(ne.setUser(null));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},ae=function(e){return e.user},ce=(n(29),n(0)),se=function(){var e=Object(h.useErrorHandler)(),t=Object(j.h)(),n=Object(o.b)(),c=Object(a.useState)(""),s=Object(B.a)(c,2),r=s[0],l=s[1],b=Object(a.useState)(""),p=Object(B.a)(b,2),x=p[0],m=p[1],O=Object(a.useState)(!1),f=Object(B.a)(O,2),v=f[0],g=f[1],w=Object(a.useState)(!1),_=Object(B.a)(w,2),y=_[0],k=_[1],S=function(){var a=Object(d.a)(u.a.mark((function a(c){var s,i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),!y&&!v){a.next=3;break}return a.abrupt("return");case 3:return a.prev=3,a.next=6,N(r,x);case 6:return s=a.sent,P(s),a.next=10,$();case 10:i=a.sent,n(ne.setUser(i)),t("/profile"),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(3),e(a.t0);case 18:case"end":return a.stop()}}),a,null,[[3,15]])})));return function(e){return a.apply(this,arguments)}}();return Object(ce.jsxs)("div",{className:"authorization",children:[Object(ce.jsxs)("h1",{className:"title has-text-white has-text-weight-light is-size-1 mb-6",children:["Sign in to",Object(ce.jsx)(i.b,{to:"/",className:"has-text-primary-dark",children:" Wordsly"})]}),Object(ce.jsxs)("form",{onSubmit:S,className:"authorization__form mb-3",children:[Object(ce.jsxs)("div",{className:"field",children:[Object(ce.jsx)("input",{type:"email",placeholder:"Email",required:!0,value:r,onChange:function(e){var t=e.target.value;k(!1),l(t)},onBlur:function(){W.test(r)||k(!0)},className:M()("input is-rounded has-text-weight-light is-medium",{"is-danger":y})}),y&&Object(ce.jsx)("p",{className:"authorization__error help is-danger",children:"Please, enter a valid email"})]}),Object(ce.jsxs)("div",{className:"field",children:[Object(ce.jsx)("input",{type:"password",placeholder:"Password",required:!0,value:x,onChange:function(e){var t=e.target.value;g(!1),m(t)},onBlur:function(){H.test(x)||g(!0)},className:M()("input is-rounded has-text-weight-light is-medium",{"is-danger":v})}),v&&Object(ce.jsx)("p",{className:"authorization__error help is-danger",children:"Password must contain at least 8 characters, one digit, one uppercase and lowercase letter"})]}),Object(ce.jsx)("button",{type:"submit",className:"authorization__button button is-fullwidth is-rounded is-medium",children:"Sign in"})]}),Object(ce.jsxs)("p",{className:"has-text-white has-text-weight-light is-size-5",children:["Don't have an account yet?\xa0",Object(ce.jsx)(i.b,{to:"/sign-up",className:"has-text-primary-dark",children:"Sign up"})]})]})},re=function(){var e=Object(h.useErrorHandler)(),t=Object(j.h)(),n=Object(o.b)(),c=Object(a.useState)(""),s=Object(B.a)(c,2),r=s[0],l=s[1],b=Object(a.useState)(""),p=Object(B.a)(b,2),x=p[0],m=p[1],O=Object(a.useState)(""),f=Object(B.a)(O,2),v=f[0],g=f[1],w=Object(a.useState)(""),N=Object(B.a)(w,2),y=N[0],k=N[1],S=Object(a.useState)("0"),C=Object(B.a)(S,2),T=C[0],L=C[1],z=Object(a.useState)(!1),E=Object(B.a)(z,2),I=E[0],U=E[1],F=Object(a.useState)(!1),A=Object(B.a)(F,2),D=A[0],q=A[1],J=function(){var a=Object(d.a)(u.a.mark((function a(c){var s,i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),!D&&!I&&"0"!==T){a.next=3;break}return a.abrupt("return");case 3:return a.prev=3,a.next=6,_({email:v,password:y,firstname:r,lastname:x,accountType:+T});case 6:return s=a.sent,P(s),a.next=10,$();case 10:i=a.sent,n(ne.setUser(i)),t("/profile"),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(3),e(a.t0);case 18:case"end":return a.stop()}}),a,null,[[3,15]])})));return function(e){return a.apply(this,arguments)}}();return Object(ce.jsxs)("div",{className:"authorization",children:[Object(ce.jsxs)("h1",{className:"title has-text-white has-text-weight-light is-size-1 mb-6",children:["Sign up to",Object(ce.jsx)(i.b,{to:"/",className:"has-text-primary-dark",children:" Wordsly"})]}),Object(ce.jsxs)("form",{onSubmit:J,className:"authorization__form mb-3",children:[Object(ce.jsx)("div",{className:"field",children:Object(ce.jsx)("input",{type:"text",placeholder:"Firstname",required:!0,value:r,onChange:function(e){var t=e.target.value;l(t)},className:"input is-rounded has-text-weight-light is-medium"})}),Object(ce.jsx)("div",{className:"field",children:Object(ce.jsx)("input",{type:"text",placeholder:"Lastname",required:!0,value:x,onChange:function(e){var t=e.target.value;m(t)},className:"input is-rounded has-text-weight-light is-medium"})}),Object(ce.jsxs)("div",{className:"field",children:[Object(ce.jsx)("input",{type:"email",placeholder:"Email",required:!0,value:v,onChange:function(e){var t=e.target.value;q(!1),g(t)},onBlur:function(){W.test(v)||q(!0)},className:M()("input is-rounded has-text-weight-light is-medium",{"is-danger":D})}),D&&Object(ce.jsx)("p",{className:"authorization__error help is-danger",children:"Please, enter a valid email"})]}),Object(ce.jsxs)("div",{className:"field",children:[Object(ce.jsx)("input",{type:"password",placeholder:"Password",required:!0,value:y,onChange:function(e){var t=e.target.value;U(!1),k(t)},onBlur:function(){H.test(y)||U(!0)},className:M()("input is-rounded has-text-weight-light is-medium",{"is-danger":I})}),I&&Object(ce.jsx)("p",{className:"authorization__error help is-danger",children:"Password must contain at least 8 characters, one digit, one uppercase and lowercase letter"})]}),Object(ce.jsx)("div",{className:"field",children:Object(ce.jsx)("div",{className:M()("select is-rounded is-fullwidth is-medium",{authorization__placeholder:"0"===T}),children:Object(ce.jsxs)("select",{value:T,onChange:function(e){var t=e.target.value;L(t)},className:"has-text-weight-light",children:[Object(ce.jsx)("option",{value:"0",disabled:!0,children:"Choose your account type"}),Object(ce.jsx)("option",{value:"1",children:"Customer"}),Object(ce.jsx)("option",{value:"2",children:"Translator"})]})})}),Object(ce.jsx)("button",{type:"submit",className:"authorization__button button is-fullwidth is-rounded is-medium",children:"Sign up"})]}),Object(ce.jsxs)("p",{className:"has-text-white has-text-weight-light is-size-5",children:["Already have an account?\xa0",Object(ce.jsx)(i.b,{to:"/sign-in",className:"has-text-primary-dark",children:"Sign in"})]})]})},ie=function(e,t,n){return U("".concat(x,"/api/Projects/").concat(e,"/").concat(t,"/").concat(n))},oe=function(e,t,n){return U("".concat(x,"/api/Projects/").concat(e,"/").concat(t,"/strings/").concat(n))},le=function(e,t){return U("".concat(x,"/api/Projects/").concat(e,"/").concat(t))},ue=function(e,t){return U("".concat(x,"/api/Projects/").concat(e,"/").concat(t,"/comments"))},de=function(e,t,n){return U("".concat(x,"/api/Projects/").concat(e,"/").concat(t,"/comments"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:n})})},je=function(e,t,n,a){return U("".concat(x,"/api/Projects/").concat(e,"/").concat(t,"/strings/").concat(n),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:a})})},he=function(e,t){return U("".concat(x,"/api/Projects/").concat(e,"/").concat(t,"/"),{method:"POST",headers:{"Content-Type":"application/json"}})},be=function(e){return U("".concat(x,"/api/Projects?status=").concat(e))},pe=function(e,t){return U("".concat(x,"/api/Projects/").concat(e,"/").concat(t,"/join"),{method:"POST",headers:{"Content-Type":"application/json"}})},xe=function(e,t,n,a,c,s){var r="".concat(p,"/api/Projects?subjectId=").concat(e,"&sourceLangId=").concat(t,"&targetLangId=").concat(n);return void 0!==a&&(r="".concat(r,"&projectStatus=").concat(a)),void 0!==c&&(r="".concat(r,"&userId=").concat(c)),void 0!==s&&(r="".concat(r,"&isTranslator=").concat(s)),U(r)},me=n(19);!function(e){e.SetLanguages="languages/set"}(te||(te={}));var Oe,fe=function(e){return{type:te.SetLanguages,value:e}},ve=function(e){return e.languages};!function(e){e.SetSubjects="subjects/set"}(Oe||(Oe={}));var ge,we,Ne=function(e){return{type:Oe.SetSubjects,value:e}},_e=function(e){return e.subjects};!function(e){e[e.User=1]="User",e[e.Translator=2]="Translator",e[e.Admin=3]="Admin"}(ge||(ge={})),function(e){e[e.Unpaid=0]="Unpaid",e[e.Active=1]="Active",e[e.Completed=2]="Completed"}(we||(we={}));n(55);var ye=function(){var e=Object(j.g)("/"),t=Object(o.b)(),n=Object(o.c)(ae),c=Object(a.useState)(!1),s=Object(B.a)(c,2),r=s[0],l=s[1],u=Object(a.useRef)(null),d=Object(a.useCallback)((function(e){var t;(null===(t=u.current)||void 0===t?void 0:t.contains(e.target))||l(!1)}),[]);Object(a.useEffect)((function(){return document.addEventListener("mousedown",d),function(){document.removeEventListener("mousedown",d)}}),[]);var h=function(){localStorage.clear(),t(ne.setUser(null)),e&&location.reload()};return n?Object(ce.jsxs)("div",{ref:u,className:M()("menu dropdown is-right",{"is-active":r}),children:[Object(ce.jsx)("div",{className:"dropdown-trigger",children:Object(ce.jsx)("button",{type:"button",className:"menu__button is-size-4",onClick:function(){return l(!r)},children:"".concat(null===n||void 0===n?void 0:n.firstname," ").concat(null===n||void 0===n?void 0:n.lastname)})}),Object(ce.jsxs)("div",{className:"menu__box dropdown-menu",children:[n.accountType===ge.User&&Object(ce.jsxs)("div",{className:"menu__content dropdown-content",children:[Object(ce.jsx)(i.b,{to:"/profile",className:"menu__item dropdown-item",children:"My profile"}),Object(ce.jsx)("hr",{className:"dropdown-divider"}),Object(ce.jsx)(i.b,{to:"/projects/my",className:"menu__item dropdown-item",children:"My projects"}),Object(ce.jsx)("hr",{className:"dropdown-divider"}),Object(ce.jsx)(i.b,{to:"/quote",className:"menu__item dropdown-item",children:"New project"}),Object(ce.jsx)("hr",{className:"dropdown-divider"}),Object(ce.jsx)(i.b,{to:"/",onClick:h,className:"menu__item dropdown-item",children:"Log out"})]}),n.accountType===ge.Translator&&Object(ce.jsxs)("div",{className:"menu__content dropdown-content",children:[Object(ce.jsx)(i.b,{to:"/profile",className:"menu__item dropdown-item",children:"My profile"}),Object(ce.jsx)("hr",{className:"dropdown-divider"}),Object(ce.jsx)(i.b,{to:"/projects/my",className:"menu__item dropdown-item",children:"My projects"}),Object(ce.jsx)("hr",{className:"dropdown-divider"}),Object(ce.jsx)(i.b,{to:"/projects",className:"menu__item dropdown-item",children:"Available projects"}),Object(ce.jsx)("hr",{className:"dropdown-divider"}),Object(ce.jsx)(i.b,{to:"/",className:"menu__item dropdown-item",onClick:h,children:"Log out"})]}),n.accountType===ge.Admin&&Object(ce.jsxs)("div",{className:"menu__content dropdown-content",children:[Object(ce.jsx)(i.b,{to:"/",className:"menu__item dropdown-item",children:"Income"}),Object(ce.jsx)("hr",{className:"dropdown-divider"}),Object(ce.jsx)(i.b,{to:"/projects",className:"menu__item dropdown-item",children:"Projects"}),Object(ce.jsx)("hr",{className:"dropdown-divider"}),Object(ce.jsx)(i.b,{to:"/languages",className:"menu__item dropdown-item",children:"Languages"}),Object(ce.jsx)("hr",{className:"dropdown-divider"}),Object(ce.jsx)(i.b,{to:"/subjects",className:"menu__item dropdown-item",children:"Subjects"}),Object(ce.jsx)("hr",{className:"dropdown-divider"}),Object(ce.jsx)(i.b,{to:"/users",className:"menu__item dropdown-item",children:"Users"}),Object(ce.jsx)("hr",{className:"dropdown-divider"}),Object(ce.jsx)(i.b,{to:"/translators",className:"menu__item dropdown-item",children:"Translators"}),Object(ce.jsx)("hr",{className:"dropdown-divider"}),Object(ce.jsx)(i.b,{to:"/",className:"menu__item dropdown-item",onClick:h,children:"Log out"})]})]})]}):Object(ce.jsx)(ce.Fragment,{})},ke=(n(56),function(){var e=T();return Object(ce.jsxs)("header",{className:"header",children:[Object(ce.jsx)(i.b,{to:"/",className:"header__logo has-text-primary-dark has-text-weight-light is-size-2",children:"Wordsly"}),e?Object(ce.jsx)(ye,{}):Object(ce.jsx)(i.b,{to:"/sign-in",className:"header__sign-in is-size-4",children:"Sign in"})]})}),Se=(n(57),function(){var e=Object(j.h)(),t=Object(h.useErrorHandler)(),n=Object(o.c)(_e),c=Object(o.c)(ve),s=Object(a.useState)(0),r=Object(B.a)(s,2),i=r[0],l=r[1],b=Object(a.useState)(0),p=Object(B.a)(b,2),m=p[0],O=p[1],f=Object(a.useState)(0),v=Object(B.a)(f,2),g=v[0],w=v[1],N=Object(a.useState)([]),_=Object(B.a)(N,2),y=_[0],k=_[1],S=Object(a.useState)([]),C=Object(B.a)(S,2),P=C[0],T=C[1],L=Object(a.useState)([]),z=Object(B.a)(L,2),E=z[0],I=z[1],F=Object(a.useState)(null),A=Object(B.a)(F,2),D=A[0],q=A[1];Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a=i,c=m,s=g,U("".concat(x,"/api/Projects/active?subjectId=").concat(a,"&sourceLangId=").concat(c,"&targetLangId=").concat(s));case 3:n=e.sent,k(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(e.t0);case 10:case"end":return e.stop()}var a,c,s}),e,null,[[0,7]])})))()}),[i,m,g]),Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var a,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y();case 3:a=e.sent,q(a),s=n.filter((function(e){return a.subjectIds.includes(e.id)})),T(s),r=c.filter((function(e){return a.languagesPairs.some((function(t){return t.sourceLanguageId===e.id}))})),I(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[n,c]);var J=Object(a.useMemo)((function(){return D?m?c.filter((function(e){return D.languagesPairs.some((function(t){return t.outputLanguageId===e.id&&t.sourceLanguageId===m}))})):c.filter((function(e){return D.languagesPairs.some((function(t){return t.outputLanguageId===e.id}))})):[]}),[m,D]),M=function(){var n=Object(d.a)(u.a.mark((function n(a,c,s){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.nativeEvent.preventDefault(),n.prev=1,n.next=4,pe(c,s);case 4:e("/project/".concat(c,"/").concat(s)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),t(n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e,t,a){return n.apply(this,arguments)}}();return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"projects__header",children:Object(ce.jsx)(ke,{})}),Object(ce.jsxs)("div",{className:"projects__filters",children:[Object(ce.jsx)("div",{className:"select is-rounded is-medium",children:Object(ce.jsxs)("select",{value:i,onChange:function(e){var t=+e.target.value;l(t)},className:"projects__select has-text-weight-light",children:[Object(ce.jsx)("option",{value:0,children:"All subjects"}),P.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.subject},e.id)}))]})}),Object(ce.jsx)("div",{className:"select is-rounded is-medium",children:Object(ce.jsxs)("select",{value:m,onChange:function(e){var t=+e.target.value;O(t)},className:"projects__select has-text-weight-light",children:[Object(ce.jsx)("option",{value:0,children:"All source languages"}),E.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.language},e.id)}))]})}),Object(ce.jsx)("div",{className:"select is-rounded is-medium",children:Object(ce.jsxs)("select",{value:g,onChange:function(e){var t=+e.target.value;w(t)},className:"projects__select has-text-weight-light",children:[Object(ce.jsx)("option",{value:0,children:"All target languages"}),J.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.language},e.id)}))]})})]}),Object(ce.jsxs)("table",{className:"table is-hoverable is-fullwidth",children:[Object(ce.jsx)("thead",{children:Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("th",{children:"File name"}),Object(ce.jsx)("th",{children:"Source language"}),Object(ce.jsx)("th",{children:"Target language"}),Object(ce.jsx)("th",{children:"Subject"}),Object(ce.jsx)("th",{children:"Words count"}),Object(ce.jsx)("th",{})]})}),Object(ce.jsx)("tbody",{children:y.map((function(e){return Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("td",{children:e.fileName}),Object(ce.jsx)("td",{children:e.sourceLanguage.language}),Object(ce.jsx)("td",{children:e.targetLanguage.language}),Object(ce.jsx)("td",{children:e.subject.subject}),Object(ce.jsx)("td",{children:e.wordsCount}),Object(ce.jsx)("td",{children:Object(ce.jsx)("a",{href:"/",className:"projects__choose",onClick:function(t){return M(t,e.id,e.targetLanguage.id)},children:"Choose a project"})})]},e.id+e.targetLanguage.id)}))})]})]})}),Ce=n.p+"static/media/home-background.48123240.png",Pe=(n(58),function(){return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(ke,{}),Object(ce.jsx)("main",{children:Object(ce.jsxs)("section",{className:"home",children:[Object(ce.jsx)("h2",{className:"home__title has-text-weight-light",children:"Translate Better and Faster"}),Object(ce.jsx)("div",{className:"columns",children:Object(ce.jsxs)("div",{className:"home__section column is-half-desktop",children:[Object(ce.jsx)("p",{className:"home__text has-text-weight-light",children:"Easily translate your documents and digital content with quality and speed in over 50 languages."}),Object(ce.jsx)(i.b,{to:"/quote",className:"home__button button is-rounded is-medium",children:"Get an instant quote"})]})}),Object(ce.jsx)("img",{src:Ce,alt:"background",className:"home__background is-hidden-touch"})]})})]})}),Te=n(67),Le=n(4),ze=n(14),Ee=n(38),Ie=n.p+"static/media/not-found.ac85270e.png",Ue=(n(59),function(){var e=Object(h.useErrorHandler)(),t=Object(j.h)(),n=Object(o.c)(ae),c=Object(o.c)(ve),s=Object(j.i)(),r=s.id,l=s.lang,b=Object(a.useState)(1),p=Object(B.a)(b,2),x=p[0],m=p[1],v=Object(a.useState)(!1),g=Object(B.a)(v,2),w=g[0],N=g[1],_=Object(a.useState)([]),y=Object(B.a)(_,2),k=y[0],S=y[1],C=Object(a.useState)(0),P=Object(B.a)(C,2),T=P[0],L=P[1],z=Object(a.useState)(0),E=Object(B.a)(z,2),I=E[0],U=E[1],F=Object(a.useState)(""),A=Object(B.a)(F,2),D=A[0],q=A[1],J=Object(a.useState)(""),H=Object(B.a)(J,2),W=H[0],$=H[1],Q=Object(a.useState)(),R=Object(B.a)(Q,2),V=R[0],G=R[1],K=Object(a.useState)([]),Z=Object(B.a)(K,2),X=Z[0],Y=Z[1],ee=Object(a.useState)(""),te=Object(B.a)(ee,2),ne=te[0],se=te[1],re=Object(a.useState)(),be=Object(B.a)(re,2),pe=be[0],xe=be[1],me=Object(a.useState)(),Oe=Object(B.a)(me,2),fe=Oe[0],we=Oe[1],Ne=Object(a.useMemo)((function(){return(null===n||void 0===n?void 0:n.accountType)!==ge.User}),[n]),_e=Object(a.useMemo)((function(){return(null===n||void 0===n?void 0:n.accountType)!==ge.Translator}),[n]);Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||!l){e.next=5;break}return e.next=3,le(r,l);case 3:t=e.sent,G(t);case 5:case"end":return e.stop()}}),e)})))()}),[r,l]),Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r&&l&&x)){e.next=12;break}return e.prev=1,e.next=4,ie(r,l,x);case 4:t=e.sent,S(t.result),L(t.pagesCount),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),N(!0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()}),[r,l,x]),Object(a.useEffect)((function(){var e=(new Te.a).configureLogging(Le.a.Information).withUrl(O,{skipNegotiation:!0,transport:ze.a.WebSockets}).withAutomaticReconnect().build();xe(e);var t=(new Te.a).configureLogging(Le.a.Information).withUrl(f,{skipNegotiation:!0,transport:ze.a.WebSockets}).withAutomaticReconnect().build();we(t)}),[]),Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!pe){t.next=4;break}return t.next=3,pe.start();case 3:pe.on("loadString",function(){var t=Object(d.a)(u.a.mark((function t(n,a){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,oe(r,a,n);case 5:c=t.sent,S((function(e){return e.map((function(e){return e.id===c.id?c:e}))})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),e(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)})))()}),[pe]),Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!fe){t.next=4;break}return t.next=3,fe.start();case 3:fe.on("loadComments",function(){var t=Object(d.a)(u.a.mark((function t(n,a){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue(n,a);case 3:c=t.sent,Y(c),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)})))()}),[fe]),Object(a.useEffect)((function(){return(null===fe||void 0===fe?void 0:fe.state)===Ee.b.Connected&&I&&l&&fe.invoke("Join",I,+l),function(){(null===fe||void 0===fe?void 0:fe.state)===Ee.b.Connected&&I&&l&&fe.invoke("Leave",I,+l)}}),[null===fe||void 0===fe?void 0:fe.state,I]),Object(a.useEffect)((function(){return(null===pe||void 0===pe?void 0:pe.state)===Ee.b.Connected&&l&&k.forEach((function(e){pe.invoke("Join",e.id,+l)})),function(){(null===pe||void 0===pe?void 0:pe.state)===Ee.b.Connected&&l&&k.forEach((function(e){pe.invoke("Leave",e.id,+l)}))}}),[null===pe||void 0===pe?void 0:pe.state,k.map((function(e){return e.id}))]),Object(a.useEffect)((function(){var e=k.find((function(e){return e.id===I}));return e&&q(e.translatedString),Ne&&(null===pe||void 0===pe?void 0:pe.state)===Ee.b.Connected&&r&&l&&I&&pe.invoke("StartEdit",I,+l),function(){Ne&&(null===pe||void 0===pe?void 0:pe.state)===Ee.b.Connected&&r&&l&&I&&pe.invoke("LeaveEdit",I,+l)}}),[null===pe||void 0===pe?void 0:pe.state,I]),Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!I||!l){t.next=11;break}return t.prev=1,t.next=4,ue(I,+l);case 4:n=t.sent,Y(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()}),[I,l]);var ye=function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Enter"!==n.key||!ne||!l){t.next=10;break}return t.prev=1,t.next=4,de(I,+l,ne);case 4:se(""),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),e(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),Se=function(e){e!==I&&(U(e),q(""),W&&$(""))},Ce=function(e){m(e),Se(0)},Pe=function(e){q(e.target.value),W&&$("")},Ue=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key||t.shiftKey||!r||!l||!I){e.next=11;break}return t.nativeEvent.preventDefault(),e.prev=2,e.next=5,je(r,+l,I,D);case 5:U(0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),$(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var n=Object(d.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r||!l){n.next=10;break}return n.prev=1,n.next=4,he(+r,+l);case 4:t("/projects/my"),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),e(n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(){return n.apply(this,arguments)}}(),Ae=Object(a.useMemo)((function(){var e;return l&&(null===(e=c.find((function(e){return e.id===+l})))||void 0===e?void 0:e.language)||""}),[l,c]);return w||!n?Object(ce.jsxs)("div",{children:[Object(ce.jsx)(ke,{}),Object(ce.jsxs)("section",{className:"home",children:[Object(ce.jsx)("h2",{className:"home__title has-text-weight-light",children:"The project was not found"}),Object(ce.jsx)("div",{className:"columns",children:Object(ce.jsx)("div",{className:"home__section column is-half-desktop",children:Object(ce.jsx)(i.b,{to:"/",className:"home__button button is-rounded is-medium",children:"Go to home page"})})}),Object(ce.jsx)("img",{src:Ie,alt:"background",className:"home__background is-hidden-touch"})]})]}):Object(ce.jsxs)("div",{children:[Object(ce.jsx)(ke,{}),Object(ce.jsxs)("div",{className:"project__container",children:[Object(ce.jsxs)("div",{className:"project__strings-column",children:[k.map((function(e){return Object(ce.jsx)("article",{className:"message",onClick:function(){return Se(e.id)},children:Object(ce.jsxs)("div",{className:M()("project__strings message-body",{"project__selected-string":e.id===I}),children:[Object(ce.jsx)("p",{className:"project__string has-text-white-ter has-text-weight-light",children:e.originalString}),e.isEditing&&!e.translatedString?Object(ce.jsx)("p",{className:"project__string has-text-white-ter",children:Object(ce.jsx)("span",{className:"has-text-primary-dark",children:"Is translating..."})}):Ne&&I===e.id?Object(ce.jsxs)("div",{className:"project__string-control control",children:[Object(ce.jsx)("textarea",{className:M()("project__string-entry textarea has-fixed-size",{"is-danger":!!W}),placeholder:"Please, enter translation and press ENTER",value:D,onChange:Pe,onKeyPress:Ue}),W&&Object(ce.jsx)("p",{className:"project__error help is-danger",children:W})]}):Object(ce.jsx)("p",{className:"project__string has-text-white-ter",children:e.translatedString||Object(ce.jsx)("span",{className:"has-text-primary-dark",children:"Currently not translated"})})]})},e.id)})),Object(ce.jsxs)("div",{className:"project__pagination",children:[x>1&&Object(ce.jsx)("button",{type:"button",onClick:function(){return Ce(x-1)},className:"project__pagination-button button is-small",children:"<"}),Object(ce.jsx)("p",{className:"project__pagination-page is-size-4 has-text-weight-light has-text-white-ter",children:x}),x<T&&Object(ce.jsx)("button",{type:"button",onClick:function(){return Ce(x+1)},className:"project__pagination-button button is-small",children:">"})]})]}),Object(ce.jsxs)("div",{className:"project__info-column",children:[Object(ce.jsxs)("article",{className:"message",children:[Object(ce.jsx)("div",{className:"message-header",children:Object(ce.jsx)("span",{children:"".concat(null===V||void 0===V?void 0:V.projectName," To ").concat(Ae)})}),!!(null===V||void 0===V?void 0:V.preferences)&&Object(ce.jsx)("div",{className:"message-body has-text-white-ter",children:null===V||void 0===V?void 0:V.preferences}),_e&&Object(ce.jsx)("button",{type:"button",className:"project__info-footer message-header",onClick:Fe,children:"Approve project"})]}),!!I&&Object(ce.jsxs)("article",{className:"message",children:[Object(ce.jsx)("div",{className:"message-header",children:X.length?"Comments":"No comments"}),Object(ce.jsxs)("div",{className:"message-body",children:[X.map((function(e){return Object(ce.jsx)("article",{className:M()("message is-small",{"is-primary":e.role===ge.User,"is-danger":e.role===ge.Admin,"is-link":e.role===ge.Translator}),children:Object(ce.jsxs)("div",{className:"message-body",children:[Object(ce.jsx)("span",{children:"".concat(e.userName,": ")}),e.comment]})},e.id)})),Object(ce.jsx)("input",{type:"text",name:"comment",className:"input",value:ne,onChange:function(e){return se(e.target.value)},onKeyPress:ye})]})]})]})]})]})}),Fe=(n(61),function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=sessionStorage.getItem("quote"))){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,U("".concat(b,"/api/Quota/id"));case 5:return t=e.sent,sessionStorage.setItem("quote",t||""),e.abrupt("return",t||"");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),Ae=function(e,t){var n=new FormData;return n.append("file",e),n.append("quotaId",t),U("".concat(b,"/api/Quota/source-file"),{method:"POST",body:n})},De=function(e,t){return U("".concat(b,"/api/Quota/create-project"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({quoteId:e,preferences:t})})},qe=function(){var e,t,n,c=Object(j.h)(),s=Object(h.useErrorHandler)(),r=Object(o.c)(ve),i=Object(o.c)(_e),l=Object(a.useState)(),b=Object(B.a)(l,2),p=b[0],x=b[1],O=Object(a.useState)(),f=Object(B.a)(O,2),v=f[0],g=f[1],w=Object(a.useState)(""),N=Object(B.a)(w,2),_=N[0],y=N[1],k=Object(a.useState)("0"),S=Object(B.a)(k,2),C=S[0],P=S[1],L=Object(a.useState)("0"),z=Object(B.a)(L,2),E=z[0],I=z[1],U=Object(a.useState)(""),F=Object(B.a)(U,2),A=F[0],D=F[1];Object(a.useEffect)((function(){var e=(new Te.a).configureLogging(Le.a.Information).withUrl(m,{skipNegotiation:!0,transport:ze.a.WebSockets}).withAutomaticReconnect().build();g(e),Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe();case 2:t=e.sent,y(t);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v||!_){e.next=6;break}return e.next=3,v.start();case 3:return v.on("updateQuota",(function(e){var t,n;x(e),I(null===(t=e.sourceLanguage)||void 0===t?void 0:t.languageCode),P(null===(n=e.subject)||void 0===n?void 0:n.id.toString())})),e.next=6,v.invoke("Join",_);case 6:case"end":return e.stop()}}),e)})))()}),[v,_]);var q=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.target.files)){e.next=11;break}return a=n[0],e.prev=3,e.next=6,Ae(a,_);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),s(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===p||void 0===p||null===(n=p.targetLanguages)||void 0===n?void 0:n.length)){e.next=3;break}return e.next=3,null===v||void 0===v?void 0:v.invoke("SendTargetLanguageCodes",_,p.targetLanguages.filter((function(e){return e.id!==t})).map((function(e){return e.languageCode})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,e.next=3,null===v||void 0===v?void 0:v.invoke("SendTargetLanguageCodes",_,(null===p||void 0===p||null===(n=p.targetLanguages)||void 0===n?void 0:n.length)?[].concat(Object(me.a)(p.targetLanguages.map((function(e){return e.languageCode}))),[a]):[a]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.value,P(n),(null===v||void 0===v?void 0:v.state)!==Ee.b.Connected){e.next=5;break}return e.next=5,v.invoke("SendSubjectId",_,+n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.value,I(n),(null===v||void 0===v?void 0:v.state)!==Ee.b.Connected){e.next=5;break}return e.next=5,v.invoke("SendSourceLanguageCode",_,n,!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===p||void 0===p?void 0:p.fileName)&&p.sourceLanguage&&p.targetLanguages.length&&p.subject&&p.price)){e.next=22;break}if(e.prev=1,!T()){e.next=15;break}return e.prev=3,e.next=6,De(_,A);case 6:sessionStorage.removeItem("quote"),c("/projects/my"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),s(e.t0);case 13:e.next=17;break;case 15:sessionStorage.setItem("preferences",A),c("/sign-in");case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(1),s(e.t1);case 22:case"end":return e.stop()}}),e,null,[[1,19],[3,10]])})));return function(){return e.apply(this,arguments)}}();return Object(ce.jsxs)("div",{children:[Object(ce.jsx)("div",{className:"quote__header",children:Object(ce.jsx)(ke,{})}),Object(ce.jsx)("div",{className:"quote__title",children:Object(ce.jsx)("span",{className:"has-text-white has-text-weight-light is-size-4",children:"Please give us a description of what you need by completing the following:"})}),Object(ce.jsxs)("div",{className:"quote__container",children:[Object(ce.jsxs)("div",{className:"quote__inputs",children:[Object(ce.jsxs)("span",{className:"has-text-white has-text-weight-light is-size-4",children:["File for translation:",Object(ce.jsx)("div",{className:"quote__input file has-name is-fullwidth is-medium is-right",children:Object(ce.jsxs)("label",{htmlFor:"file",className:"file-label",children:[Object(ce.jsx)("input",{id:"file",onChange:q,className:"file-input is-rounded",type:"file",name:"resume",accept:".rtf, .doc, .docx, .ppt, .pptx, .xls, .xlsx, .html, .xml, .txt, .srt, .sbv, .odt, .ods, .odp"}),Object(ce.jsx)("span",{className:"file-cta",children:Object(ce.jsx)("span",{className:"file-label",children:"Choose a file\u2026"})}),Object(ce.jsx)("span",{className:"file-name has-text-white",children:null===p||void 0===p?void 0:p.fileName})]})})]}),Object(ce.jsxs)("label",{htmlFor:"subject",className:"has-text-white has-text-weight-light is-size-4",children:["Subject:",Object(ce.jsx)("div",{className:"quote__input select is-rounded is-medium is-fullwidth",children:Object(ce.jsxs)("select",{id:"subject",value:C,onChange:H,className:"has-text-weight-light",children:[Object(ce.jsx)("option",{value:0,disabled:!0,children:"Choose  subject(s)"}),i.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.subject},e.id)}))]})})]}),Object(ce.jsxs)("label",{htmlFor:"sourceLanguage",className:"has-text-white has-text-weight-light is-size-4",children:["Translate from:",Object(ce.jsx)("div",{className:"control",children:Object(ce.jsx)("div",{className:"quote__input select is-fullwidth is-rounded is-medium",children:Object(ce.jsxs)("select",{id:"sourceLanguage",value:E,onChange:W,className:"has-text-weight-light",children:[Object(ce.jsx)("option",{value:0,disabled:!0,children:"Choose language(s)"}),r.map((function(e){return Object(ce.jsx)("option",{value:e.languageCode,children:e.language},e.id)}))]})})})]}),Object(ce.jsxs)("label",{htmlFor:"outputLanguage",className:"has-text-white has-text-weight-light is-size-4",children:["Translate to:",Object(ce.jsx)("div",{className:"control",children:Object(ce.jsx)("div",{className:"quote__input select is-rounded is-fullwidth is-medium",children:Object(ce.jsxs)("select",{id:"outputLanguage",value:0,onChange:M,className:"has-text-weight-light",children:[Object(ce.jsx)("option",{value:0,disabled:!0,children:"Choose language(s)"}),r.filter((function(e){return e.languageCode!==E})).map((function(e){return Object(ce.jsx)("option",{value:e.languageCode,children:e.language},e.id)}))]})})})]}),Object(ce.jsx)("div",{className:"control",children:Object(ce.jsx)("textarea",{className:"quote__preferences textarea has-fixed-size is-fullwidth is-medium",placeholder:"Please, enter your preferences",value:A,onChange:function(e){return D(e.target.value)}})})]}),Object(ce.jsx)("div",{className:"quote__info",children:Object(ce.jsxs)("div",{className:"quote__card card",children:[Object(ce.jsx)("header",{className:"card-header",children:Object(ce.jsx)("h1",{className:"quote__info-header card-header-title",children:"Order Details"})}),Object(ce.jsx)("section",{className:"card-content",children:Object(ce.jsxs)("div",{className:"content",children:[Object(ce.jsx)("p",{children:"File name: ".concat((null===p||void 0===p?void 0:p.fileName)||"")}),Object(ce.jsx)("p",{children:"Subject field: ".concat((null===p||void 0===p||null===(e=p.subject)||void 0===e?void 0:e.subject)||"")}),Object(ce.jsx)("p",{children:"Transalte from: ".concat((null===p||void 0===p||null===(t=p.sourceLanguage)||void 0===t?void 0:t.language)||"")}),Object(ce.jsxs)("p",{className:"quote__info-langs",children:["Translate to: ",!!(null===p||void 0===p||null===(n=p.targetLanguages)||void 0===n?void 0:n.length)&&p.targetLanguages.map((function(e){var t=e.id,n=r.find((function(e){return e.id===t}));return Object(ce.jsxs)("span",{className:"tag is-light is-rounded",children:[null===n||void 0===n?void 0:n.language,Object(ce.jsx)("button",{type:"button",className:"delete is-small",onClick:function(){return J(t)}})]},t)}))]}),Object(ce.jsxs)("div",{className:"quote__info-row",children:[Object(ce.jsx)("p",{className:"quote__info-words",children:"Words count: ".concat((null===p||void 0===p?void 0:p.wordsCount)||((null===p||void 0===p?void 0:p.isCounting)?"counting":""))}),Object(ce.jsx)("p",{children:"Price ($): ".concat((null===p||void 0===p?void 0:p.price)?p.price/100:"")})]})]})}),Object(ce.jsx)("footer",{className:"card-footer",children:Object(ce.jsx)("button",{type:"button",className:"quote__info-button card-header-title card-footer-item",onClick:$,children:"Save"})})]})})]})]})},Be=(n(31),function(){var e=Object(h.useErrorHandler)(),t=Object(o.b)(),n=Object(o.c)(ae),c=Object(o.c)(_e),s=Object(o.c)(ve),r=Object(a.useState)(""),i=Object(B.a)(r,2),l=i[0],j=i[1],b=Object(a.useState)(""),x=Object(B.a)(b,2),m=x[0],O=x[1],f=Object(a.useState)(""),v=Object(B.a)(f,2),g=v[0],w=v[1],N=Object(a.useState)(null),_=Object(B.a)(N,2),y=_[0],k=_[1],S=Object(a.useState)(""),C=Object(B.a)(S,2),P=C[0],T=C[1],L=Object(a.useState)(""),z=Object(B.a)(L,2),E=z[0],I=z[1],F=Object(a.useState)(!1),A=Object(B.a)(F,2),D=A[0],q=A[1],J=Object(a.useState)(!1),$=Object(B.a)(J,2),Q=$[0],R=$[1],K=Object(a.useState)(!1),ee=Object(B.a)(K,2),te=ee[0],se=ee[1],re=Object(a.useState)(!1),ie=Object(B.a)(re,2),oe=ie[0],le=ie[1],ue=Object(a.useState)(!1),de=Object(B.a)(ue,2),je=de[0],he=de[1],be=Object(a.useState)(!1),pe=Object(B.a)(be,2),xe=pe[0],Oe=pe[1],fe=Object(a.useState)(null),ge=Object(B.a)(fe,2),we=ge[0],Ne=ge[1],ye=Object(a.useState)([]),Se=Object(B.a)(ye,2),Ce=Se[0],Pe=Se[1],Te=Object(a.useState)([]),Le=Object(B.a)(Te,2),ze=Le[0],Ee=Le[1],Ie=Object(a.useState)(0),Ue=Object(B.a)(Ie,2),Fe=Ue[0],Ae=Ue[1],De=Object(a.useState)(0),qe=Object(B.a)(De,2),Be=qe[0],Je=qe[1];Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V();case 3:return n=t.sent,t.next=6,Y();case 6:a=t.sent,k(n),Ne(a),Pe(a.subjectIds),Ee(a.languagesPairs),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),e(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()}),[]),Object(a.useEffect)((function(){n&&(j(n.firstname),O(n.lastname),w(n.email))}),[n]);var Me=function(){var a=Object(d.a)(u.a.mark((function a(){var c,s,r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((null===n||void 0===n?void 0:n.firstname)===l&&(null===n||void 0===n?void 0:n.lastname)===m){a.next=11;break}return a.prev=1,a.next=4,G(l,m);case 4:c=a.sent,t(ne.setUser(c)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),e(a.t0);case 11:if((null===n||void 0===n?void 0:n.email)===g){a.next=22;break}return a.prev=12,a.next=15,Z(g);case 15:s=a.sent,t(ne.setUser(s)),a.next=22;break;case 19:a.prev=19,a.t1=a.catch(12),e(a.t1);case 22:if(!P||!E){a.next=31;break}return a.prev=23,a.next=26,X(P,E);case 26:a.next=31;break;case 28:a.prev=28,a.t2=a.catch(23),R(!0);case 31:return a.prev=31,a.next=34,i=Ce,o=ze,U("".concat(p,"/api/Users/translator-info"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({subjectIds:i,languagesPairs:o})});case 34:r=a.sent,Ne(r),Pe(r.subjectIds),Ee(r.languagesPairs),a.next=43;break;case 40:a.prev=40,a.t3=a.catch(31),e(a.t3);case 43:case"end":return a.stop()}var i,o}),a,null,[[1,8],[12,19],[23,28],[31,40]])})));return function(){return a.apply(this,arguments)}}();return Object(ce.jsxs)("div",{children:[Object(ce.jsx)("div",{className:"user-profile__header",children:Object(ce.jsx)(ke,{})}),Object(ce.jsxs)("div",{className:"user-profile__container",children:[Object(ce.jsxs)("div",{className:"user-profile__projects-info has-text-white has-text-weight-light",children:[Object(ce.jsxs)("div",{className:"user-profile__projects-info-data",children:[Object(ce.jsx)("p",{className:"is-size-1",children:null===y||void 0===y?void 0:y.active}),Object(ce.jsx)("p",{className:"is-size-3",children:" active projects"})]}),Object(ce.jsxs)("div",{className:"user-profile__projects-info-data",children:[Object(ce.jsx)("p",{className:"is-size-1",children:null===y||void 0===y?void 0:y.completed}),Object(ce.jsx)("p",{className:"is-size-3",children:"completed projects"})]}),Object(ce.jsxs)("div",{className:"user-profile__projects-info-data",children:[Object(ce.jsx)("p",{className:"is-size-1",children:"".concat(null===y||void 0===y?void 0:y.money,"$")}),Object(ce.jsx)("p",{className:"is-size-3",children:"total income"})]})]}),Object(ce.jsx)("h2",{className:"user-profile__personal-info-title has-text-centered has-text-white has-text-weight-light is-size-3",children:"Personal information"}),Object(ce.jsxs)("div",{className:"user-profile__personal-info",children:[Object(ce.jsxs)("label",{htmlFor:"firstname",className:"has-text-white has-text-weight-light is-size-4",children:["Firstname:",Object(ce.jsxs)("div",{className:"control",children:[Object(ce.jsx)("input",{id:"firstname",type:"text",value:l,onChange:function(e){var t=e.target.value;he(!1),j(t)},onBlur:function(){l||he(!0)},className:M()("user-profile__personal-info-input input is-rounded has-text-weight-light is-medium",{"is-danger":je})}),je&&Object(ce.jsx)("p",{className:"user-profile__error help is-danger",children:"Please, enter your firstname"})]})]}),Object(ce.jsxs)("label",{htmlFor:"lastname",className:"has-text-white has-text-weight-light is-size-4",children:["Lastname:",Object(ce.jsxs)("div",{className:"control",children:[Object(ce.jsx)("input",{id:"lastname",type:"text",value:m,onChange:function(e){var t=e.target.value;Oe(!1),O(t)},onBlur:function(){m||Oe(!0)},className:M()("user-profile__personal-info-input input is-rounded has-text-weight-light is-medium",{"is-danger":xe})}),xe&&Object(ce.jsx)("p",{className:"user-profile__error help is-danger",children:"Please, enter a valid email"})]})]})]}),Object(ce.jsx)("h2",{className:"user-profile__personal-info-title has-text-centered has-text-white has-text-weight-light is-size-3",children:"Security and privacy"}),Object(ce.jsxs)("div",{className:"user-profile__personal-info",children:[Object(ce.jsxs)("label",{htmlFor:"password",className:"has-text-white has-text-weight-light is-size-4",children:["Current password:",Object(ce.jsxs)("div",{className:"control",children:[Object(ce.jsx)("input",{type:"password",id:"password",value:P,onChange:function(e){var t=e.target.value;q(!1),R(!1),T(t)},onBlur:function(){!H.test(P)&&P&&q(!0)},className:M()("user-profile__personal-info-input input is-rounded has-text-weight-light is-medium",{"is-danger":D||Q})}),D&&Object(ce.jsx)("p",{className:"user-profile__error help is-danger",children:"Password must contain at least 8 characters, one digit, one uppercase and lowercase letter"}),Q&&Object(ce.jsx)("p",{className:"user-profile__error help is-danger",children:"Ooops, wrong password."})]})]}),Object(ce.jsxs)("label",{htmlFor:"newPassword",className:"has-text-white has-text-weight-light is-size-4",children:["New password:",Object(ce.jsxs)("div",{className:"control",children:[Object(ce.jsx)("input",{type:"password",id:"newPassword",value:E,onChange:function(e){var t=e.target.value;se(!1),I(t)},onBlur:function(){!H.test(E)&&E&&se(!0)},className:M()("user-profile__personal-info-input input is-rounded has-text-weight-light is-medium",{"is-danger":te})}),te&&Object(ce.jsx)("p",{className:"user-profile__error help is-danger",children:"Password must contain at least 8 characters, one digit, one uppercase and lowercase letter"})]})]}),Object(ce.jsxs)("label",{htmlFor:"email",className:"has-text-white has-text-weight-light is-size-4",children:["Email:",Object(ce.jsxs)("div",{className:"control",children:[Object(ce.jsx)("input",{id:"email",type:"email",value:g,onChange:function(e){var t=e.target.value;le(!1),w(t)},onBlur:function(){W.test(g)||le(!0)},className:M()("user-profile__personal-info-input input is-rounded has-text-weight-light is-medium",{"is-danger":oe})}),oe&&Object(ce.jsx)("p",{className:"user-profile__error help is-danger",children:"Please, enter a valid email"})]})]})]}),Object(ce.jsx)("h2",{className:"user-profile__personal-info-title has-text-centered has-text-white has-text-weight-light is-size-3",children:"Subjects"}),Object(ce.jsxs)("div",{className:"user-profile__subjects",children:[Object(ce.jsx)("div",{className:"select is-rounded is-medium",children:Object(ce.jsxs)("select",{value:0,onChange:function(e){var t=+e.target.value;Ce.includes(t)||Pe([].concat(Object(me.a)(Ce),[t]))},className:"user-profile__subject-select has-text-weight-light",children:[Object(ce.jsx)("option",{value:0,disabled:!0,children:"Choose  subject(s)"}),c.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.subject},e.id)}))]})}),Object(ce.jsx)("div",{className:"user-profile__selected-subjects",children:Ce.length?Ce.map((function(e){var t=c.find((function(t){return t.id===e}));return Object(ce.jsxs)("span",{className:"tag is-primary is-rounded",children:[null===t||void 0===t?void 0:t.subject,Object(ce.jsx)("button",{type:"button",className:"delete is-small",onClick:function(){return function(e){var t=Ce.filter((function(t){return t!==e}));Pe(t)}(e)}})]},e)})):Object(ce.jsx)("span",{className:"has-text-white has-text-weight-light",children:"Please, choose subject fields in order to have access to projects."})})]}),Object(ce.jsx)("h2",{className:"user-profile__personal-info-title has-text-centered has-text-white has-text-weight-light is-size-3",children:"Language pairs"}),Object(ce.jsxs)("div",{className:"user-profile__language-pairs",children:[Object(ce.jsxs)("div",{className:"user-profile__languages",children:[Object(ce.jsxs)("label",{htmlFor:"sourceLanguage",className:"has-text-white has-text-weight-light is-size-4",children:["Translate from:",Object(ce.jsx)("div",{className:"control",children:Object(ce.jsx)("div",{className:"user-profile__language-select select is-rounded is-medium",children:Object(ce.jsxs)("select",{id:"sourceLanguage",value:Fe,onChange:function(e){var t=+e.target.value;Ae(t)},className:"user-profile__subject-select has-text-weight-light",children:[Object(ce.jsx)("option",{value:0,disabled:!0,children:"Choose language(s)"}),s.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.language},e.id)}))]})})})]}),Object(ce.jsxs)("label",{htmlFor:"outputLanguage",className:"has-text-white has-text-weight-light is-size-4",children:["Translate to:",Object(ce.jsx)("div",{className:"control",children:Object(ce.jsx)("div",{className:"user-profile__language-select select is-rounded is-medium",children:Object(ce.jsxs)("select",{id:"outputLanguage",value:Be,onChange:function(e){var t=+e.target.value;Je(t)},className:"user-profile__subject-select has-text-weight-light",children:[Object(ce.jsx)("option",{value:0,disabled:!0,children:"Choose language(s)"}),s.filter((function(e){return e.id!==Fe})).map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.language},e.id)}))]})})})]}),Object(ce.jsx)("button",{type:"button",className:"user-profile__add-button user-profile__update button is-rounded is-medium",onClick:function(){var e=ze.some((function(e){return e.sourceLanguageId===Fe&&e.outputLanguageId===Be}));Fe&&Be&&!e&&Ee([].concat(Object(me.a)(ze),[{sourceLanguageId:Fe,outputLanguageId:Be}]))},children:"Add"})]}),ze.length?Object(ce.jsx)("div",{className:"user-profile__table-container table-container",children:Object(ce.jsxs)("table",{className:"user-profile__table table is-hoverable",children:[Object(ce.jsx)("thead",{children:Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("th",{children:"Source language"}),Object(ce.jsx)("th",{children:"Target language"}),Object(ce.jsx)("th",{})]})}),Object(ce.jsx)("tbody",{children:ze.map((function(e){var t=s.find((function(t){return t.id===e.sourceLanguageId})),n=s.find((function(t){return t.id===e.outputLanguageId}));return Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("td",{children:null===t||void 0===t?void 0:t.language}),Object(ce.jsx)("td",{children:null===n||void 0===n?void 0:n.language}),Object(ce.jsx)("td",{children:Object(ce.jsx)("button",{type:"button",className:"delete",onClick:function(){return function(e){var t=ze.filter((function(t){return t!==e}));Ee(t)}(e)}})})]},"".concat(e.sourceLanguageId,"-").concat(e.outputLanguageId))}))})]})}):Object(ce.jsx)("div",{className:"user-profile__selected-languages",children:Object(ce.jsx)("span",{className:"has-text-white has-text-weight-light",children:"Please, choose languages pairs in order to have access to projects."})})]}),Object(ce.jsxs)("div",{className:"user-profile__button-container",children:[Object(ce.jsx)("button",{type:"button",className:"user-profile__cancel button is-rounded is-medium",onClick:function(){n&&(j(n.firstname),O(n.lastname),w(n.email)),T(""),I(""),he(!1),Oe(!1),le(!1),q(!1),se(!1),R(!1),we&&(Ee(we.languagesPairs),Pe(we.subjectIds))},children:"Cancel"}),Object(ce.jsx)("button",{type:"button",disabled:oe||D||Q||te||je||xe,onClick:Me,className:"user-profile__update button is-rounded is-medium",children:"Update"})]})]})]})}),Je=function(){var e=Object(h.useErrorHandler)(),t=Object(o.b)(),n=Object(o.c)(ae),c=Object(a.useState)(""),s=Object(B.a)(c,2),r=s[0],i=s[1],l=Object(a.useState)(""),j=Object(B.a)(l,2),b=j[0],x=j[1],m=Object(a.useState)(""),O=Object(B.a)(m,2),f=O[0],v=O[1],g=Object(a.useState)(null),w=Object(B.a)(g,2),N=w[0],_=w[1],y=Object(a.useState)(null),k=Object(B.a)(y,2),S=k[0],C=k[1],P=Object(a.useState)(""),T=Object(B.a)(P,2),L=T[0],z=T[1],E=Object(a.useState)(""),I=Object(B.a)(E,2),F=I[0],A=I[1],D=Object(a.useState)(""),q=Object(B.a)(D,2),J=q[0],$=q[1],Q=Object(a.useState)(""),R=Object(B.a)(Q,2),Y=R[0],ee=R[1],te=Object(a.useState)(!1),se=Object(B.a)(te,2),re=se[0],ie=se[1],oe=Object(a.useState)(!1),le=Object(B.a)(oe,2),ue=le[0],de=le[1],je=Object(a.useState)(!1),he=Object(B.a)(je,2),be=he[0],pe=he[1],xe=Object(a.useState)(!1),me=Object(B.a)(xe,2),Oe=me[0],fe=me[1],ve=Object(a.useState)(!1),ge=Object(B.a)(ve,2),we=ge[0],Ne=ge[1],_e=Object(a.useState)(!1),ye=Object(B.a)(_e,2),Se=ye[0],Ce=ye[1];Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=sessionStorage.getItem("quote"),n=sessionStorage.getItem("preferences"),!t){e.next=15;break}return e.prev=3,e.next=6,De(t,n);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0);case 11:return e.prev=11,sessionStorage.removeItem("quote"),sessionStorage.removeItem("preferences"),e.finish(11);case 15:case"end":return e.stop()}}),e,null,[[3,8,11,15]])})))()}),[]),Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V();case 3:return n=t.sent,t.next=6,U("".concat(p,"/api/Users/personal-info"));case 6:a=t.sent,_(n),C(a),z(a.website),A(a.company),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),e(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()}),[]),Object(a.useEffect)((function(){n&&(i(n.firstname),x(n.lastname),v(n.email))}),[n]);var Pe=function(){var a=Object(d.a)(u.a.mark((function a(){var c,s,i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((null===n||void 0===n?void 0:n.firstname)===r&&(null===n||void 0===n?void 0:n.lastname)===b){a.next=11;break}return a.prev=1,a.next=4,G(r,b);case 4:c=a.sent,t(ne.setUser(c)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),e(a.t0);case 11:if((null===S||void 0===S?void 0:S.website)===L&&S.company===F){a.next=22;break}return a.prev=12,a.next=15,K(L,F);case 15:s=a.sent,C(s),a.next=22;break;case 19:a.prev=19,a.t1=a.catch(12),e(a.t1);case 22:if((null===n||void 0===n?void 0:n.email)===f){a.next=33;break}return a.prev=23,a.next=26,Z(f);case 26:i=a.sent,t(ne.setUser(i)),a.next=33;break;case 30:a.prev=30,a.t2=a.catch(23),e(a.t2);case 33:if(!J||!Y){a.next=42;break}return a.prev=34,a.next=37,X(J,Y);case 37:a.next=42;break;case 39:a.prev=39,a.t3=a.catch(34),de(!0);case 42:case"end":return a.stop()}}),a,null,[[1,8],[12,19],[23,30],[34,39]])})));return function(){return a.apply(this,arguments)}}();return Object(ce.jsxs)("div",{children:[Object(ce.jsx)("div",{className:"user-profile__header",children:Object(ce.jsx)(ke,{})}),Object(ce.jsxs)("div",{className:"user-profile__container",children:[Object(ce.jsxs)("div",{className:"user-profile__projects-info has-text-white has-text-weight-light",children:[Object(ce.jsxs)("div",{className:"user-profile__projects-info-data",children:[Object(ce.jsx)("p",{className:"is-size-1",children:null===N||void 0===N?void 0:N.active}),Object(ce.jsx)("p",{className:"is-size-3",children:" active projects"})]}),Object(ce.jsxs)("div",{className:"user-profile__projects-info-data",children:[Object(ce.jsx)("p",{className:"is-size-1",children:null===N||void 0===N?void 0:N.completed}),Object(ce.jsx)("p",{className:"is-size-3",children:"completed projects"})]}),Object(ce.jsxs)("div",{className:"user-profile__projects-info-data",children:[Object(ce.jsx)("p",{className:"is-size-1",children:null===N||void 0===N?void 0:N.waiting}),Object(ce.jsx)("p",{className:"is-size-3",children:"waiting for payment"})]}),Object(ce.jsxs)("div",{className:"user-profile__projects-info-data",children:[Object(ce.jsx)("p",{className:"is-size-1",children:"".concat(null===N||void 0===N?void 0:N.money,"$")}),Object(ce.jsx)("p",{className:"is-size-3",children:"total amount"})]})]}),Object(ce.jsx)("h2",{className:"user-profile__personal-info-title has-text-centered has-text-white has-text-weight-light is-size-3",children:"Personal information"}),Object(ce.jsxs)("div",{className:"user-profile__personal-info",children:[Object(ce.jsxs)("label",{htmlFor:"firstname",className:"has-text-white has-text-weight-light is-size-4",children:["Firstname:",Object(ce.jsxs)("div",{className:"control",children:[Object(ce.jsx)("input",{id:"firstname",type:"text",value:r,onChange:function(e){var t=e.target.value;Ne(!1),i(t)},onBlur:function(){r||Ne(!0)},className:M()("user-profile__personal-info-input input is-rounded has-text-weight-light is-medium",{"is-danger":we})}),we&&Object(ce.jsx)("p",{className:"user-profile__error help is-danger",children:"Please, enter your firstname"})]})]}),Object(ce.jsxs)("label",{htmlFor:"lastname",className:"has-text-white has-text-weight-light is-size-4",children:["Lastname:",Object(ce.jsxs)("div",{className:"control",children:[Object(ce.jsx)("input",{id:"lastname",type:"text",value:b,onChange:function(e){var t=e.target.value;Ce(!1),x(t)},onBlur:function(){b||Ce(!0)},className:M()("user-profile__personal-info-input input is-rounded has-text-weight-light is-medium",{"is-danger":Se})}),Se&&Object(ce.jsx)("p",{className:"user-profile__error help is-danger",children:"Please, enter a valid email"})]})]}),Object(ce.jsxs)("label",{htmlFor:"company",className:"has-text-white has-text-weight-light is-size-4",children:["Company name:",Object(ce.jsx)("div",{className:"control",children:Object(ce.jsx)("input",{id:"company",type:"text",value:F,onChange:function(e){A(e.target.value)},className:"user-profile__personal-info-input input is-rounded has-text-weight-light is-medium"})})]}),Object(ce.jsxs)("label",{htmlFor:"userWebsite",className:"has-text-white has-text-weight-light is-size-4",children:["Website:",Object(ce.jsx)("div",{className:"control",children:Object(ce.jsx)("input",{id:"userWebsite",type:"text",value:L,onChange:function(e){z(e.target.value)},className:"user-profile__personal-info-input input is-rounded has-text-weight-light is-medium"})})]})]}),Object(ce.jsx)("h2",{className:"user-profile__personal-info-title has-text-centered has-text-white has-text-weight-light is-size-3",children:"Security and privacy"}),Object(ce.jsxs)("div",{className:"user-profile__personal-info",children:[Object(ce.jsxs)("label",{htmlFor:"password",className:"has-text-white has-text-weight-light is-size-4",children:["Current password:",Object(ce.jsxs)("div",{className:"control",children:[Object(ce.jsx)("input",{type:"password",id:"password",value:J,onChange:function(e){var t=e.target.value;ie(!1),de(!1),$(t)},onBlur:function(){!H.test(J)&&J&&ie(!0)},className:M()("user-profile__personal-info-input input is-rounded has-text-weight-light is-medium",{"is-danger":re||ue})}),re&&Object(ce.jsx)("p",{className:"user-profile__error help is-danger",children:"Password must contain at least 8 characters, one digit, one uppercase and lowercase letter"}),ue&&Object(ce.jsx)("p",{className:"user-profile__error help is-danger",children:"Ooops, wrong password."})]})]}),Object(ce.jsxs)("label",{htmlFor:"newPassword",className:"has-text-white has-text-weight-light is-size-4",children:["New password:",Object(ce.jsxs)("div",{className:"control",children:[Object(ce.jsx)("input",{type:"password",id:"newPassword",value:Y,onChange:function(e){var t=e.target.value;pe(!1),ee(t)},onBlur:function(){!H.test(Y)&&Y&&pe(!0)},className:M()("user-profile__personal-info-input input is-rounded has-text-weight-light is-medium",{"is-danger":be})}),be&&Object(ce.jsx)("p",{className:"user-profile__error help is-danger",children:"Password must contain at least 8 characters, one digit, one uppercase and lowercase letter"})]})]}),Object(ce.jsxs)("label",{htmlFor:"email",className:"has-text-white has-text-weight-light is-size-4",children:["Email:",Object(ce.jsxs)("div",{className:"control",children:[Object(ce.jsx)("input",{id:"email",type:"email",value:f,onChange:function(e){var t=e.target.value;fe(!1),v(t)},onBlur:function(){W.test(f)||fe(!0)},className:M()("user-profile__personal-info-input input is-rounded has-text-weight-light is-medium",{"is-danger":Oe})}),Oe&&Object(ce.jsx)("p",{className:"user-profile__error help is-danger",children:"Please, enter a valid email"})]})]})]}),Object(ce.jsxs)("div",{className:"user-profile__button-container",children:[Object(ce.jsx)("button",{type:"button",className:"user-profile__cancel button is-rounded is-medium",onClick:function(){n&&(i(n.firstname),x(n.lastname),v(n.email)),S&&(A(S.company),z(S.website)),$(""),ee(""),Ne(!1),Ce(!1),fe(!1),ie(!1),pe(!1),de(!1)},children:"Cancel"}),Object(ce.jsx)("button",{type:"button",disabled:Oe||re||ue||be||we||Se,onClick:Pe,className:"user-profile__update button is-rounded is-medium",children:"Update"})]})]})]})},Me=(n(32),function(){var e=Object(h.useErrorHandler)(),t=Object(a.useState)(we.Active),n=Object(B.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)([]),o=Object(B.a)(r,2),l=o[0],j=o[1];Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,be(c);case 3:n=t.sent,j(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}),[c]);var b=function(e,t){e.nativeEvent.preventDefault(),s(t)};return Object(ce.jsxs)("div",{children:[Object(ce.jsx)("div",{className:"projects-page__header",children:Object(ce.jsx)(ke,{})}),Object(ce.jsx)("div",{className:"tabs is-boxed is-medium",children:Object(ce.jsxs)("ul",{className:"projects-page__list",children:[Object(ce.jsx)("li",{className:M()({"is-active":c===we.Active}),children:Object(ce.jsx)("a",{href:"/",onClick:function(e){return b(e,we.Active)},children:"Active projects"})}),Object(ce.jsx)("li",{className:M()({"is-active":c===we.Completed}),children:Object(ce.jsx)("a",{href:"/",onClick:function(e){return b(e,we.Completed)},children:"Completed projects"})})]})}),Object(ce.jsxs)("table",{className:"table is-hoverable is-fullwidth",children:[Object(ce.jsx)("thead",{children:Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("th",{children:"File name"}),Object(ce.jsx)("th",{children:"Source language"}),Object(ce.jsx)("th",{children:"Target language"}),Object(ce.jsx)("th",{children:"Subject"}),Object(ce.jsx)("th",{children:"Words count"}),Object(ce.jsx)("th",{children:"Translated words"}),Object(ce.jsx)("th",{children:"Start date"}),c===we.Completed&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("th",{children:"End date"}),Object(ce.jsx)("th",{children:"Price"})]}),Object(ce.jsx)("th",{})]})}),Object(ce.jsx)("tbody",{children:l.map((function(e){return Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("td",{children:e.fileName}),Object(ce.jsx)("td",{children:e.sourceLanguage.language}),Object(ce.jsx)("td",{children:e.targetLanguage.language}),Object(ce.jsx)("td",{children:e.subject.subject}),Object(ce.jsx)("td",{children:e.wordsCount}),Object(ce.jsx)("td",{children:e.transaltedWordsCount}),Object(ce.jsx)("td",{children:new Date(Date.parse(e.startDate)).toDateString()}),c===we.Completed&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("td",{children:new Date(Date.parse(e.endDate)).toDateString()}),Object(ce.jsx)("td",{children:"".concat(e.price,"$")})]}),Object(ce.jsx)("td",{children:Object(ce.jsx)(i.b,{to:"/project/".concat(e.id,"/").concat(e.targetLanguage.id),className:"projects-page__table-button",children:"View"})})]},e.id+e.targetLanguage.languageCode)}))})]})]})}),He=n(35),We=n.n(He),$e=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(n);case 2:return a=e.sent,e.next=5,fetch(t,a);case 5:if((c=e.sent).ok){e.next=12;break}return e.t0=Error,e.next=10,c.json();case 10:throw e.t1=e.sent.errorMessage,new e.t0(e.t1);case 12:return e.abrupt("return",c.blob());case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(d.a)(u.a.mark((function e(t,n,a){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e("".concat(x,"/api/Projects/").concat(t,"/").concat(n,"/file"));case 2:c=e.sent,We()(c,a);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Re=n(36),Ve=function(e,t){return U("".concat(b,"/api/Quota"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:e,nonce:t})})},Ge=function(e){var t=e.show,n=e.setShow,c=e.projectId,s=e.onPaymentComplete,r=Object(h.useErrorHandler)(),i=Object(a.useState)(),o=Object(B.a)(i,2),l=o[0],j=o[1];Object(a.useEffect)((function(){if(t){var e=function(){return Re.create({authorization:"sandbox_38sfybrb_v8s2m2wz66fvx7zx",container:"#braintree-drop-in-div"},(function(e,t){e?r(e):j(t)}))};l?l.teardown().then((function(){j(void 0),e()})):e()}}),[t]);return Object(ce.jsxs)("div",{className:M()("modal",{"is-active":t}),children:[Object(ce.jsx)("div",{className:"modal-background"}),Object(ce.jsxs)("div",{className:"modal-card",children:[Object(ce.jsxs)("header",{className:"modal-card-head",children:[Object(ce.jsx)("p",{className:"modal-card-title",children:"Project payment"}),Object(ce.jsx)("button",{type:"button",className:"delete","aria-label":"close",onClick:function(){return n(!1)}})]}),Object(ce.jsx)("section",{className:"modal-card-body",children:Object(ce.jsx)("div",{id:"braintree-drop-in-div"})}),Object(ce.jsx)("footer",{className:"modal-card-foot is-justify-content-flex-end",children:Object(ce.jsx)("button",{type:"button",disabled:!l,onClick:function(){l&&l.requestPaymentMethod(function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}r(t),e.next=14;break;case 4:return a=n.nonce,e.prev=5,e.next=8,Ve(c,a);case 8:s(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),r(e.t0);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,n){return e.apply(this,arguments)}}())},className:"button is-dark is-outlined",children:"Pay"})})]})]})},Ke=function(){var e=Object(h.useErrorHandler)(),t=Object(a.useState)(we.Unpaid),n=Object(B.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)([]),o=Object(B.a)(r,2),l=o[0],j=o[1],b=Object(a.useState)(!1),p=Object(B.a)(b,2),x=p[0],m=p[1],O=Object(a.useState)(0),f=Object(B.a)(O,2),v=f[0],g=f[1];Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,be(c);case 3:n=t.sent,j(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}),[c]);var w=function(e,t){e.nativeEvent.preventDefault(),s(t)},N=function(){var t=Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!1),t.prev=1,t.next=4,be(c);case 4:n=t.sent,j(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}(),_=function(){var t=Object(d.a)(u.a.mark((function t(n,a,c,s){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.nativeEvent.preventDefault(),t.prev=1,t.next=4,Qe(a,c,s);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),e(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n,a,c){return t.apply(this,arguments)}}();return Object(ce.jsxs)("div",{children:[Object(ce.jsx)("div",{className:"projects-page__header",children:Object(ce.jsx)(ke,{})}),Object(ce.jsx)("div",{className:"tabs is-boxed is-medium",children:Object(ce.jsxs)("ul",{className:"projects-page__list",children:[Object(ce.jsx)("li",{className:M()({"is-active":c===we.Active}),children:Object(ce.jsx)("a",{href:"/",onClick:function(e){return w(e,we.Active)},children:"Active projects"})}),Object(ce.jsx)("li",{className:M()({"is-active":c===we.Completed}),children:Object(ce.jsx)("a",{href:"/",onClick:function(e){return w(e,we.Completed)},children:"Completed projects"})}),Object(ce.jsx)("li",{className:M()({"is-active":c===we.Unpaid}),children:Object(ce.jsx)("a",{href:"/",onClick:function(e){return w(e,we.Unpaid)},children:"Unpaid projects"})})]})}),Object(ce.jsxs)("table",{className:"table is-hoverable is-fullwidth",children:[Object(ce.jsx)("thead",{children:Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("th",{children:"File name"}),Object(ce.jsx)("th",{children:"Source language"}),Object(ce.jsx)("th",{children:"Target language"}),Object(ce.jsx)("th",{children:"Subject"}),Object(ce.jsx)("th",{children:"Words count"}),c!==we.Unpaid&&Object(ce.jsx)("th",{children:"Start date"}),c===we.Completed&&Object(ce.jsx)("th",{children:"End date"}),Object(ce.jsx)("th",{children:"Price"}),Object(ce.jsx)("th",{}),c===we.Completed&&Object(ce.jsx)("th",{})]})}),Object(ce.jsx)("tbody",{children:l.map((function(e){return Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("td",{children:e.fileName}),Object(ce.jsx)("td",{children:e.sourceLanguage.language}),Object(ce.jsx)("td",{children:e.targetLanguage.language}),Object(ce.jsx)("td",{children:e.subject.subject}),Object(ce.jsx)("td",{children:e.wordsCount}),c!==we.Unpaid&&Object(ce.jsx)("td",{children:new Date(Date.parse(e.startDate)).toDateString()}),c===we.Completed&&Object(ce.jsx)("td",{children:new Date(Date.parse(e.endDate)).toDateString()}),Object(ce.jsx)("td",{children:"".concat(e.price,"$")}),Object(ce.jsx)("td",{children:c===we.Unpaid?Object(ce.jsx)("a",{href:"/",className:"projects-page__table-button",onClick:function(t){return function(e,t){e.nativeEvent.preventDefault(),g(t),m(!0)}(t,e.id)},children:"Pay"}):Object(ce.jsx)(i.b,{to:"/project/".concat(e.id,"/").concat(e.targetLanguage.id),className:"projects-page__table-button",children:"View"})}),c===we.Completed&&Object(ce.jsx)("td",{children:Object(ce.jsx)("a",{href:"/",className:"projects-page__table-button",onClick:function(t){return _(t,e.id,e.targetLanguage.id,e.fileName)},children:"Download"})})]},e.id+e.targetLanguage.languageCode)}))})]}),Object(ce.jsx)(Ge,{show:x,setShow:m,projectId:v,onPaymentComplete:N})]})},Ze=function(e){var t=e.error,n=e.resetErrorBoundary;return Object(ce.jsxs)("div",{children:[Object(ce.jsx)(ke,{}),Object(ce.jsxs)("section",{className:"home",children:[Object(ce.jsx)("h2",{className:"home__title has-text-weight-light",children:t.message}),Object(ce.jsx)("div",{className:"columns",children:Object(ce.jsx)("div",{className:"home__section column is-half-desktop",children:Object(ce.jsx)(i.b,{to:"/",onClick:n,className:"home__button button is-rounded is-medium",children:"Go to home page"})})}),Object(ce.jsx)("img",{src:Ie,alt:"background",className:"home__background is-hidden-touch"})]})]})},Xe=(n(62),function(){var e=Object(h.useErrorHandler)(),t=Object(o.c)(ve),n=Object(a.useState)(null),c=Object(B.a)(n,2),s=c[0],r=c[1],i=Object(a.useState)(0),l=Object(B.a)(i,2),j=l[0],b=l[1],x=Object(a.useState)(0),m=Object(B.a)(x,2),O=m[0],f=m[1],v=Object(a.useState)("0"),g=Object(B.a)(v,2),w=g[0],N=g[1],_=Object(a.useState)("0"),y=Object(B.a)(_,2),k=y[0],S=y[1];Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U("".concat(p,"/api/Payments"));case 3:n=t.sent,r(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}),[]),Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!j!==!O){t.next=12;break}return t.prev=1,t.next=4,a=j,c=O,U("".concat(p,"/api/Payments/pricing?sourceLangId=").concat(a,"&targetLangId=").concat(c));case 4:n=t.sent,N(n.pricePerUnitInput.toString()),S(n.pricePerUnitOutput.toString()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(t.t0);case 12:case"end":return t.stop()}var a,c}),t,null,[[1,9]])})))()}),[j,O]);var C=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!j!==!O||!+w||!+k){t.next=9;break}return t.prev=1,t.next=4,n=+w,a=+k,c=j,s=O,U("".concat(p,"/api/Payments/pricing"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pricePerUnitInput:n,pricePerUnitOutput:a,sourceLanguageId:c,targetLanguageId:s})});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),e(t.t0);case 9:case"end":return t.stop()}var n,a,c,s}),t,null,[[1,6]])})));return function(){return t.apply(this,arguments)}}();return Object(ce.jsxs)("div",{children:[Object(ce.jsx)("div",{className:"income__header",children:Object(ce.jsx)(ke,{})}),Object(ce.jsxs)("div",{className:"income__container",children:[Object(ce.jsxs)("div",{className:"income__projects-info has-text-white has-text-weight-light",children:[Object(ce.jsxs)("div",{className:"income__projects-info-data",children:[Object(ce.jsx)("p",{className:"is-size-1",children:"".concat(null===s||void 0===s?void 0:s.totalIncome,"$")}),Object(ce.jsx)("p",{className:"is-size-3",children:" total income"})]}),Object(ce.jsxs)("div",{className:"income__projects-info-data",children:[Object(ce.jsx)("p",{className:"is-size-1",children:"".concat(null===s||void 0===s?void 0:s.totalPayments,"$")}),Object(ce.jsx)("p",{className:"is-size-3",children:"payments to translators"})]}),Object(ce.jsxs)("div",{className:"income__projects-info-data",children:[Object(ce.jsx)("p",{className:"is-size-1",children:"".concat(null===s||void 0===s?void 0:s.income,"$")}),Object(ce.jsx)("p",{className:"is-size-3",children:"profit"})]})]}),Object(ce.jsx)("h2",{className:"income__personal-info-title has-text-centered has-text-white has-text-weight-light is-size-3",children:"Pricing"}),Object(ce.jsxs)("div",{className:"income__pricing",children:[Object(ce.jsxs)("label",{htmlFor:"sourceLanguage",className:"has-text-white has-text-weight-light is-size-4",children:["Source language:",Object(ce.jsx)("div",{className:"control",children:Object(ce.jsx)("div",{className:"income__language-select select is-rounded is-medium",children:Object(ce.jsxs)("select",{id:"sourceLanguage",value:j,onChange:function(e){var t=+e.target.value;b(t)},className:"income__select has-text-weight-light",children:[Object(ce.jsx)("option",{value:0,children:"All"}),t.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.language},e.id)}))]})})})]}),Object(ce.jsxs)("label",{htmlFor:"outputLanguage",className:"has-text-white has-text-weight-light is-size-4",children:["Target language:",Object(ce.jsx)("div",{className:"control",children:Object(ce.jsx)("div",{className:"income__language-select select is-rounded is-medium",children:Object(ce.jsxs)("select",{id:"outputLanguage",value:O,onChange:function(e){var t=+e.target.value;f(t)},className:"income__select has-text-weight-light",children:[Object(ce.jsx)("option",{value:0,children:"All"}),t.filter((function(e){return e.id!==j})).map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.language},e.id)}))]})})})]}),Object(ce.jsxs)("label",{htmlFor:"userPrice",className:"has-text-white has-text-weight-light is-size-4",children:["Price per word for customer",Object(ce.jsx)("div",{className:"control",children:Object(ce.jsx)("input",{id:"userPrice",type:"text",value:w,onChange:function(e){var t=e.target.value;N(t.replace(/[^0-9]/g,""))},className:"income__input input is-rounded has-text-weight-light is-medium"})})]}),Object(ce.jsxs)("label",{htmlFor:"translatorPrice",className:"has-text-white has-text-weight-light is-size-4",children:["Price per word for translator",Object(ce.jsx)("div",{className:"control",children:Object(ce.jsx)("input",{id:"translatorPrice",type:"text",value:k,onChange:function(e){var t=e.target.value;S(t.replace(/[^0-9]/g,""))},className:"income__input input is-rounded has-text-weight-light is-medium"})})]})]}),Object(ce.jsx)("div",{className:"income__button-container",children:Object(ce.jsx)("button",{type:"button",onClick:C,className:"income__update button is-rounded is-medium",children:"Update"})})]})]})}),Ye=(n(63),n.p+"static/media/languages.f8e1e7e5.png"),et=function(){var e=Object(h.useErrorHandler)(),t=Object(o.b)(),n=Object(o.c)(ve),a=function(){var n=Object(d.a)(u.a.mark((function n(a,c){var s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.prev=1,n.next=4,A(c);case 4:return n.next=6,F();case 6:s=n.sent,t(fe(s)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),e(n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e,t){return n.apply(this,arguments)}}();return Object(ce.jsxs)("div",{children:[Object(ce.jsx)("div",{className:"languages__header",children:Object(ce.jsx)(ke,{})}),Object(ce.jsxs)("div",{className:"languages__container columns",children:[Object(ce.jsx)("div",{className:"column is-half",children:Object(ce.jsxs)("table",{className:"table is-hoverable is-fullwidth",children:[Object(ce.jsx)("thead",{children:Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("th",{children:"Language"}),Object(ce.jsx)("th",{})]})}),Object(ce.jsx)("tbody",{children:n.map((function(e){return Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("td",{children:e.language}),Object(ce.jsx)("td",{children:Object(ce.jsx)("a",{href:"/",className:"languages__table-button",onClick:function(t){return a(t,e.id)},children:e.isActive?"Deactivate":"Activate"})})]},e.id)}))})]})}),Object(ce.jsx)("div",{children:Object(ce.jsx)("img",{src:Ye,alt:"background",className:"languages__background is-hidden-touch"})})]})]})},tt=(n(64),function(){var e=Object(h.useErrorHandler)(),t=Object(o.b)(),n=Object(o.c)(_e),c=Object(a.useState)(""),s=Object(B.a)(c,2),r=s[0],i=s[1],l=function(){var n=Object(d.a)(u.a.mark((function n(a,c){var s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.prev=1,n.next=4,q(c);case 4:return n.next=6,D();case 6:s=n.sent,t(Ne(s)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),e(n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e,t){return n.apply(this,arguments)}}(),j=function(){var a=Object(d.a)(u.a.mark((function a(){var c,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c=n.every((function(e){return e.subject!==r})),!r||!c){a.next=15;break}return a.prev=2,a.next=5,o=r,U("".concat(p,"/api/Subjects"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:o})});case 5:return a.next=7,D();case 7:s=a.sent,t(Ne(s)),i(""),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(2),e(a.t0);case 15:case"end":return a.stop()}var o}),a,null,[[2,12]])})));return function(){return a.apply(this,arguments)}}();return Object(ce.jsxs)("div",{children:[Object(ce.jsx)("div",{className:"subjects__header",children:Object(ce.jsx)(ke,{})}),Object(ce.jsxs)("div",{className:"subjects__container columns",children:[Object(ce.jsx)("div",{className:"column is-half",children:Object(ce.jsxs)("table",{className:"table is-hoverable is-fullwidth",children:[Object(ce.jsx)("thead",{children:Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("th",{children:"Subject"}),Object(ce.jsx)("th",{})]})}),Object(ce.jsx)("tbody",{children:n.map((function(e){return Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("td",{children:e.subject}),Object(ce.jsx)("td",{children:Object(ce.jsx)("a",{href:"/",className:"subjects__table-button",onClick:function(t){return l(t,e.id)},children:"Delete"})})]},e.id)}))})]})}),Object(ce.jsx)("div",{className:"column",children:Object(ce.jsxs)("div",{className:"subjects__new-subject-container",children:[Object(ce.jsx)("input",{type:"text",placeholder:"Enter a new subject",value:r,onChange:function(e){return i(e.target.value)},className:"subjects__input input is-rounded has-text-weight-light is-medium"}),Object(ce.jsx)("button",{type:"button",onClick:j,className:"subjects__add button is-rounded is-medium",children:"Add"})]})})]})]})}),nt=function(e){var t=e.userId,n=e.isTranslator,c=Object(h.useErrorHandler)(),s=Object(j.h)(),r=Object(o.c)(_e),i=Object(o.c)(ve),l=Object(a.useState)(0),b=Object(B.a)(l,2),p=b[0],x=b[1],m=Object(a.useState)(0),O=Object(B.a)(m,2),f=O[0],v=O[1],g=Object(a.useState)(0),w=Object(B.a)(g,2),N=w[0],_=w[1],y=Object(a.useState)([]),k=Object(B.a)(y,2),S=k[0],C=k[1],P=Object(a.useState)(),T=Object(B.a)(P,2),L=T[0],z=T[1],E=Object(a.useState)(),I=Object(B.a)(E,2),U=I[0],F=I[1];Object(a.useEffect)((function(){t&&n?Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t);case 2:n=e.sent,F(n);case 4:case"end":return e.stop()}}),e)})))():F(void 0)}),[t,n]),Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe(p,f,N,L,t,n);case 3:a=e.sent,C(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[p,f,N,L,t,n]);var A=Object(a.useMemo)((function(){return U?r.filter((function(e){return U.subjectIds.includes(e.id)})):r}),[U]),D=Object(a.useMemo)((function(){return U?i.filter((function(e){return U.languagesPairs.some((function(t){return t.sourceLanguageId===e.id}))})):i}),[U]),q=Object(a.useMemo)((function(){return U?f?i.filter((function(e){return U.languagesPairs.some((function(t){return t.outputLanguageId===e.id&&t.sourceLanguageId===f}))})):i.filter((function(e){return U.languagesPairs.some((function(t){return t.outputLanguageId===e.id}))})):i.filter((function(e){return e.id!==f}))}),[f,U]),J=function(){var e=Object(d.a)(u.a.mark((function e(t,n,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.nativeEvent.preventDefault();try{s("/project/".concat(n,"/").concat(a))}catch(r){c(r)}case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return Object(ce.jsxs)("div",{children:[Object(ce.jsxs)("div",{className:"projects__filters",children:[Object(ce.jsx)("div",{className:"select is-rounded is-medium",children:Object(ce.jsxs)("select",{value:p,onChange:function(e){var t=+e.target.value;x(t)},className:"projects__select has-text-weight-light",children:[Object(ce.jsx)("option",{value:0,children:"All subjects"}),A.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.subject},e.id)}))]})}),Object(ce.jsx)("div",{className:"select is-rounded is-medium",children:Object(ce.jsxs)("select",{value:f,onChange:function(e){var t=+e.target.value;v(t)},className:"projects__select has-text-weight-light",children:[Object(ce.jsx)("option",{value:0,children:"All source languages"}),D.map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.language},e.id)}))]})}),Object(ce.jsx)("div",{className:"select is-rounded is-medium",children:Object(ce.jsxs)("select",{value:N,onChange:function(e){var t=+e.target.value;_(t)},className:"projects__select has-text-weight-light",children:[Object(ce.jsx)("option",{value:0,children:"All target languages"}),q.filter((function(e){return e.id!==f})).map((function(e){return Object(ce.jsx)("option",{value:e.id,children:e.language},e.id)}))]})}),Object(ce.jsx)("div",{className:"select is-rounded is-medium",children:Object(ce.jsxs)("select",{value:L,onChange:function(e){var t=+e.target.value;z(t<0?void 0:t)},className:"projects__select has-text-weight-light",children:[Object(ce.jsx)("option",{value:-1,children:"All project statuses"}),!U&&Object(ce.jsx)("option",{value:0,children:"Unpaid"}),Object(ce.jsx)("option",{value:1,children:"Active"}),Object(ce.jsx)("option",{value:2,children:"Completed"})]})})]}),Object(ce.jsxs)("table",{className:"table is-hoverable is-fullwidth",children:[Object(ce.jsx)("thead",{children:Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("th",{children:"File name"}),Object(ce.jsx)("th",{children:"Source language"}),Object(ce.jsx)("th",{children:"Target language"}),Object(ce.jsx)("th",{children:"Subject"}),Object(ce.jsx)("th",{children:"Words count"}),Object(ce.jsx)("th",{children:"Translated words count"}),Object(ce.jsx)("th",{children:"Price"}),Object(ce.jsx)("th",{children:"Starn date"}),Object(ce.jsx)("th",{children:"End date"}),Object(ce.jsx)("th",{})]})}),Object(ce.jsx)("tbody",{children:S.map((function(e){return Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("td",{children:e.fileName}),Object(ce.jsx)("td",{children:e.sourceLanguage.language}),Object(ce.jsx)("td",{children:e.targetLanguage.language}),Object(ce.jsx)("td",{children:e.subject.subject}),Object(ce.jsx)("td",{children:e.wordsCount}),Object(ce.jsx)("td",{children:e.transaltedWordsCount}),Object(ce.jsx)("td",{children:e.price}),Object(ce.jsx)("td",{children:e.startDate}),Object(ce.jsx)("td",{children:e.endDate}),Object(ce.jsx)("td",{children:Object(ce.jsx)("a",{href:"/",className:"projects__choose",onClick:function(t){return J(t,e.id,e.targetLanguage.id)},children:"View"})})]},e.id+e.targetLanguage.id)}))})]})]})},at=function(){return Object(ce.jsxs)("div",{children:[Object(ce.jsx)(ke,{}),Object(ce.jsx)(nt,{})]})},ct=function(e){var t=e.isTranslator,n=Object(h.useErrorHandler)(),c=Object(j.i)().id,s=Object(a.useState)(),r=Object(B.a)(s,2),i=r[0],o=r[1],l=Object(a.useMemo)((function(){return void 0===c?void 0:+c}),[c]);return Object(a.useEffect)((function(){l&&Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q(l);case 3:t=e.sent,o(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[l]),Object(ce.jsxs)("div",{children:[Object(ce.jsx)(ke,{}),Object(ce.jsx)("div",{className:"message",children:Object(ce.jsxs)("section",{className:"message-body has-text-white",children:[null===i||void 0===i?void 0:i.firstname," ",null===i||void 0===i?void 0:i.lastname,Object(ce.jsx)("br",{}),Object(ce.jsx)("a",{href:"mailto:".concat(null===i||void 0===i?void 0:i.email),children:null===i||void 0===i?void 0:i.email})]})}),Object(ce.jsx)(nt,{userId:l,isTranslator:!!t})]})},st=(n(65),function(e){var t=e.accountType,n=Object(h.useErrorHandler)(),c=Object(a.useState)([]),s=Object(B.a)(c,2),r=s[0],o=s[1];return Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee(t);case 3:a=e.sent,o(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[t]),Object(ce.jsxs)("div",{children:[Object(ce.jsx)("div",{className:"users__header",children:Object(ce.jsx)(ke,{})}),Object(ce.jsxs)("table",{className:"table is-hoverable is-fullwidth",children:[Object(ce.jsx)("thead",{children:Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("th",{children:"Firstname"}),Object(ce.jsx)("th",{children:"Lastname"}),Object(ce.jsx)("th",{children:"Email"}),Object(ce.jsx)("th",{children:"Projects count"}),Object(ce.jsx)("th",{children:"Total money"}),Object(ce.jsx)("th",{})]})}),Object(ce.jsx)("tbody",{children:r.map((function(e){return Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("td",{children:e.firstname}),Object(ce.jsx)("td",{children:e.lastname}),Object(ce.jsx)("td",{children:e.email}),Object(ce.jsx)("td",{children:e.projectCount}),Object(ce.jsx)("td",{children:e.totalMoney}),Object(ce.jsx)("td",{children:Object(ce.jsx)(i.b,{to:t===ge.User?"/user/".concat(e.id):"/translator/".concat(e.id),className:"users__table-button",children:"View"})})]},e.id)}))})]})]})}),rt=function(){var e=Object(o.b)(),t=Object(o.c)(ae);return Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D();case 2:return n=t.sent,t.next=5,F();case 5:a=t.sent,e(Ne(n)),e(fe(a)),e(ne.loadUser());case 9:case"end":return t.stop()}}),t)})))()}),[null===t||void 0===t?void 0:t.email]),E()===ge.Admin.toString()?Object(ce.jsx)(h.ErrorBoundary,{FallbackComponent:Ze,children:Object(ce.jsxs)(j.d,{children:[Object(ce.jsx)(j.b,{path:"/",element:Object(ce.jsx)(Xe,{})}),Object(ce.jsx)(j.b,{path:"/languages",element:Object(ce.jsx)(et,{})}),Object(ce.jsx)(j.b,{path:"/subjects",element:Object(ce.jsx)(tt,{})}),Object(ce.jsx)(j.b,{path:"/users",element:Object(ce.jsx)(st,{accountType:ge.User})}),Object(ce.jsx)(j.b,{path:"/user/:id",element:Object(ce.jsx)(ct,{isTranslator:!1})}),Object(ce.jsx)(j.b,{path:"/translators",element:Object(ce.jsx)(st,{accountType:ge.Translator})}),Object(ce.jsx)(j.b,{path:"/translator/:id",element:Object(ce.jsx)(ct,{isTranslator:!0})}),Object(ce.jsx)(j.b,{path:"/projects",element:Object(ce.jsx)(at,{})}),Object(ce.jsx)(j.b,{path:"/projects",element:Object(ce.jsx)(Xe,{})}),Object(ce.jsx)(j.b,{path:"/project/:id/:lang",element:Object(ce.jsx)(Ue,{})}),Object(ce.jsx)(j.b,{path:"*",element:Object(ce.jsx)(j.a,{to:"/",replace:!0})})]})}):Object(ce.jsx)(h.ErrorBoundary,{FallbackComponent:Ze,children:Object(ce.jsxs)(j.d,{children:[Object(ce.jsx)(j.b,{path:"/",element:Object(ce.jsx)(Pe,{})}),Object(ce.jsx)(j.b,{path:"/quote",element:Object(ce.jsx)(qe,{})}),E()?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(j.b,{path:"/profile",element:E()===ge.User.toString()?Object(ce.jsx)(Je,{}):Object(ce.jsx)(Be,{})}),Object(ce.jsx)(j.b,{path:"/project/:id/:lang",element:Object(ce.jsx)(Ue,{})}),Object(ce.jsx)(j.b,{path:"/projects/my",element:E()===ge.User.toString()?Object(ce.jsx)(Ke,{}):Object(ce.jsx)(Me,{})}),Object(ce.jsx)(j.b,{path:"/projects",element:Object(ce.jsx)(Se,{})})]}):Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(j.b,{path:"/sign-in",element:Object(ce.jsx)(se,{})}),Object(ce.jsx)(j.b,{path:"/sign-up",element:Object(ce.jsx)(re,{})})]}),Object(ce.jsx)(j.b,{path:"*",element:Object(ce.jsx)(j.a,{to:"/",replace:!0})})]})})},it=n(26),ot=n(37),lt=Object(it.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.SetUser:return t.value?Object(v.a)({},t.value):null;default:return e}},subjects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.SetSubjects:return Object(me.a)(t.value);default:return e}},languages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.SetLanguages:return Object(me.a)(t.value);default:return e}}}),ut=Object(it.c)(lt,Object(it.a)(ot.a));r.a.render(Object(ce.jsx)(o.a,{store:ut,children:Object(ce.jsx)(i.a,{children:Object(ce.jsx)(c.a.StrictMode,{children:Object(ce.jsx)(rt,{})})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.3e1f2907.chunk.js.map