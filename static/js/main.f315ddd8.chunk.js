(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{29:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},53:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(25),r=n.n(c),i=(n(44),n(45),n(13)),o=n(14),l=n(2),u=n.n(l),d=n(5),j=n(10),h=n(16),b="https://wordsly-client.azurewebsites.net",p="https://wordsly-admin.azurewebsites.net",m="https://wordsly-translator.azurewebsites.net",f="".concat(b,"/hub/quota"),x="".concat(m,"/hub/strings"),O="".concat(m,"/hub/comments"),v=n(9),g=n(34),w=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,n);case 2:return a=e.sent,e.prev=3,e.next=6,a.json();case 6:if(!(s=e.sent).isSuccess){e.next=9;break}return e.abrupt("return",s.data);case 9:throw new Error(s.errorMessage);case 12:throw e.prev=12,e.t0=e.catch(3),"The refresh token is not valid."===e.t0.message&&(localStorage.clear(),location.reload()),e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w("".concat(b,"/api/Auth/sign-in"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w("".concat(b,"/api/Auth/sign-up"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w("".concat(b,"/api/Auth/refresh"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=!1;function S(e){var t=Object(g.a)(e).exp,n=(new Date).getTime()/1e3;return!!(t&&n>t)}var C,z=function(e){localStorage.setItem("authorizationToken",e.authorizationToken),localStorage.setItem("refreshToken",e.refreshToken)},P=function(){return localStorage.getItem("refreshToken")},T=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("authorizationToken"),n=P(),t&&n){e.next=4;break}return e.abrupt("return",null);case 4:if(!S(t)||k){e.next=12;break}return k=!0,e.next=8,y({authorizationToken:t,refreshToken:n});case 8:return a=e.sent,z(a),k=!1,e.abrupt("return",a.authorizationToken);case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",t);case 5:if(!t){e.next=7;break}return e.abrupt("return",Object(v.a)(Object(v.a)({},t),{},{headers:Object(v.a)(Object(v.a)({},t.headers),{},{Authorization:"Bearer ".concat(n)})}));case 7:return e.abrupt("return",{headers:{Authorization:"Bearer ".concat(n)}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(n);case 2:return a=e.sent,e.abrupt("return",w(t,a));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E("".concat(p,"/api/Languages")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E("".concat(p,"/api/Subjects")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=(n(53),n(4)),F=n(12),A=n.n(F),D=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/,B=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,J=function(){return E("".concat(p,"/api/Users"))},W=function(){return E("".concat(p,"/api/Users/projects-info"))},H=function(e,t){return E("".concat(p,"/api/Users/name"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstname:e,lastname:t})})},M=function(e,t){return E("".concat(p,"/api/Users/personal-info"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({website:e,company:t})})},$=function(e){return E("".concat(p,"/api/Users/email"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})})},Q=function(e,t){return E("".concat(p,"/api/Users/password"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({oldPassword:e,newPassword:t})})},R=function(){return E("".concat(p,"/api/Users/translator-info"))};!function(e){e.SetUser="user/set"}(C||(C={}));var G,K={setUser:function(e){return{type:C.SetUser,value:e}},loadUser:function(){return function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P()){e.next=7;break}return e.next=3,J();case 3:n=e.sent,t(K.setUser(n)),e.next=8;break;case 7:t(K.setUser(null));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Z=function(e){return e.user},V=(n(29),n(0)),X=function(){var e=Object(h.useErrorHandler)(),t=Object(j.h)(),n=Object(o.b)(),s=Object(a.useState)(""),c=Object(q.a)(s,2),r=c[0],l=c[1],b=Object(a.useState)(""),p=Object(q.a)(b,2),m=p[0],f=p[1],x=Object(a.useState)(!1),O=Object(q.a)(x,2),v=O[0],g=O[1],w=Object(a.useState)(!1),_=Object(q.a)(w,2),y=_[0],k=_[1],S=function(){var a=Object(d.a)(u.a.mark((function a(s){var c,i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s.preventDefault(),!y&&!v){a.next=3;break}return a.abrupt("return");case 3:return a.prev=3,a.next=6,N(r,m);case 6:return c=a.sent,z(c),a.next=10,J();case 10:i=a.sent,n(K.setUser(i)),t("/profile"),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(3),e(a.t0);case 18:case"end":return a.stop()}}),a,null,[[3,15]])})));return function(e){return a.apply(this,arguments)}}();return Object(V.jsxs)("div",{className:"authorization",children:[Object(V.jsxs)("h1",{className:"title has-text-white has-text-weight-light is-size-1 mb-6",children:["Sign in to",Object(V.jsx)(i.b,{to:"/",className:"has-text-primary-dark",children:" Wordsly"})]}),Object(V.jsxs)("form",{onSubmit:S,className:"authorization__form mb-3",children:[Object(V.jsxs)("div",{className:"field",children:[Object(V.jsx)("input",{type:"email",placeholder:"Email",required:!0,value:r,onChange:function(e){var t=e.target.value;k(!1),l(t)},onBlur:function(){B.test(r)||k(!0)},className:A()("input is-rounded has-text-weight-light is-medium",{"is-danger":y})}),y&&Object(V.jsx)("p",{className:"authorization__error help is-danger",children:"Please, enter a valid email"})]}),Object(V.jsxs)("div",{className:"field",children:[Object(V.jsx)("input",{type:"password",placeholder:"Password",required:!0,value:m,onChange:function(e){var t=e.target.value;g(!1),f(t)},onBlur:function(){D.test(m)||g(!0)},className:A()("input is-rounded has-text-weight-light is-medium",{"is-danger":v})}),v&&Object(V.jsx)("p",{className:"authorization__error help is-danger",children:"Password must contain at least 8 characters, one digit, one uppercase and lowercase letter"})]}),Object(V.jsx)("button",{type:"submit",className:"authorization__button button is-fullwidth is-rounded is-medium",children:"Sign in"})]}),Object(V.jsxs)("p",{className:"has-text-white has-text-weight-light is-size-5",children:["Don't have an account yet?\xa0",Object(V.jsx)(i.b,{to:"/sign-up",className:"has-text-primary-dark",children:"Sign up"})]})]})},Y=function(){var e=Object(h.useErrorHandler)(),t=Object(j.h)(),n=Object(o.b)(),s=Object(a.useState)(""),c=Object(q.a)(s,2),r=c[0],l=c[1],b=Object(a.useState)(""),p=Object(q.a)(b,2),m=p[0],f=p[1],x=Object(a.useState)(""),O=Object(q.a)(x,2),v=O[0],g=O[1],w=Object(a.useState)(""),N=Object(q.a)(w,2),y=N[0],k=N[1],S=Object(a.useState)("0"),C=Object(q.a)(S,2),P=C[0],T=C[1],L=Object(a.useState)(!1),E=Object(q.a)(L,2),U=E[0],I=E[1],F=Object(a.useState)(!1),W=Object(q.a)(F,2),H=W[0],M=W[1],$=function(){var a=Object(d.a)(u.a.mark((function a(s){var c,i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s.preventDefault(),!H&&!U&&"0"!==P){a.next=3;break}return a.abrupt("return");case 3:return a.prev=3,a.next=6,_({email:v,password:y,firstname:r,lastname:m,accountType:+P});case 6:return c=a.sent,z(c),a.next=10,J();case 10:i=a.sent,n(K.setUser(i)),t("/profile"),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(3),e(a.t0);case 18:case"end":return a.stop()}}),a,null,[[3,15]])})));return function(e){return a.apply(this,arguments)}}();return Object(V.jsxs)("div",{className:"authorization",children:[Object(V.jsxs)("h1",{className:"title has-text-white has-text-weight-light is-size-1 mb-6",children:["Sign up to",Object(V.jsx)(i.b,{to:"/",className:"has-text-primary-dark",children:" Wordsly"})]}),Object(V.jsxs)("form",{onSubmit:$,className:"authorization__form mb-3",children:[Object(V.jsx)("div",{className:"field",children:Object(V.jsx)("input",{type:"text",placeholder:"Firstname",required:!0,value:r,onChange:function(e){var t=e.target.value;l(t)},className:"input is-rounded has-text-weight-light is-medium"})}),Object(V.jsx)("div",{className:"field",children:Object(V.jsx)("input",{type:"text",placeholder:"Lastname",required:!0,value:m,onChange:function(e){var t=e.target.value;f(t)},className:"input is-rounded has-text-weight-light is-medium"})}),Object(V.jsxs)("div",{className:"field",children:[Object(V.jsx)("input",{type:"email",placeholder:"Email",required:!0,value:v,onChange:function(e){var t=e.target.value;M(!1),g(t)},onBlur:function(){B.test(v)||M(!0)},className:A()("input is-rounded has-text-weight-light is-medium",{"is-danger":H})}),H&&Object(V.jsx)("p",{className:"authorization__error help is-danger",children:"Please, enter a valid email"})]}),Object(V.jsxs)("div",{className:"field",children:[Object(V.jsx)("input",{type:"password",placeholder:"Password",required:!0,value:y,onChange:function(e){var t=e.target.value;I(!1),k(t)},onBlur:function(){D.test(y)||I(!0)},className:A()("input is-rounded has-text-weight-light is-medium",{"is-danger":U})}),U&&Object(V.jsx)("p",{className:"authorization__error help is-danger",children:"Password must contain at least 8 characters, one digit, one uppercase and lowercase letter"})]}),Object(V.jsx)("div",{className:"field",children:Object(V.jsx)("div",{className:A()("select is-rounded is-fullwidth is-medium",{authorization__placeholder:"0"===P}),children:Object(V.jsxs)("select",{value:P,onChange:function(e){var t=e.target.value;T(t)},className:"has-text-weight-light",children:[Object(V.jsx)("option",{value:"0",disabled:!0,children:"Choose your account type"}),Object(V.jsx)("option",{value:"1",children:"Customer"}),Object(V.jsx)("option",{value:"2",children:"Translator"})]})})}),Object(V.jsx)("button",{type:"submit",className:"authorization__button button is-fullwidth is-rounded is-medium",children:"Sign up"})]}),Object(V.jsxs)("p",{className:"has-text-white has-text-weight-light is-size-5",children:["Already have an account?\xa0",Object(V.jsx)(i.b,{to:"/sign-in",className:"has-text-primary-dark",children:"Sign in"})]})]})},ee=function(e,t,n){return E("".concat(m,"/api/Projects/").concat(e,"/").concat(t,"/").concat(n))},te=function(e,t,n){return E("".concat(m,"/api/Projects/").concat(e,"/").concat(t,"/strings/").concat(n))},ne=function(e,t){return E("".concat(m,"/api/Projects/").concat(e,"/").concat(t))},ae=function(e,t){return E("".concat(m,"/api/Projects/").concat(e,"/").concat(t,"/comments"))},se=function(e,t,n){return E("".concat(m,"/api/Projects/").concat(e,"/").concat(t,"/comments"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:n})})},ce=function(e,t,n,a){return E("".concat(m,"/api/Projects/").concat(e,"/").concat(t,"/strings/").concat(n),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:a})})},re=function(e,t){return E("".concat(m,"/api/Projects/").concat(e,"/").concat(t,"/"),{method:"POST",headers:{"Content-Type":"application/json"}})},ie=function(e){return E("".concat(m,"/api/Projects?status=").concat(e))},oe=function(e,t){return E("".concat(m,"/api/Projects/").concat(e,"/").concat(t,"/join"),{method:"POST",headers:{"Content-Type":"application/json"}})},le=n(19);!function(e){e.SetLanguages="languages/set"}(G||(G={}));var ue,de=function(e){return{type:G.SetLanguages,value:e}},je=function(e){return e.languages};!function(e){e.SetSubjects="subjects/set"}(ue||(ue={}));var he,be,pe=function(e){return{type:ue.SetSubjects,value:e}},me=function(e){return e.subjects};!function(e){e[e.User=1]="User",e[e.Translator=2]="Translator",e[e.Admin=3]="Admin"}(he||(he={})),function(e){e[e.Unpaid=0]="Unpaid",e[e.Active=1]="Active",e[e.Completed=2]="Completed"}(be||(be={}));n(55);var fe=function(){var e=Object(j.g)("/"),t=Object(o.b)(),n=Object(o.c)(Z),s=Object(a.useState)(!1),c=Object(q.a)(s,2),r=c[0],l=c[1],u=Object(a.useRef)(null),d=Object(a.useCallback)((function(e){var t;(null===(t=u.current)||void 0===t?void 0:t.contains(e.target))||l(!1)}),[]);Object(a.useEffect)((function(){return document.addEventListener("mousedown",d),function(){document.removeEventListener("mousedown",d)}}),[]);var h=function(){localStorage.clear(),t(K.setUser(null)),e&&location.reload()};return n?Object(V.jsxs)("div",{ref:u,className:A()("menu dropdown is-right",{"is-active":r}),children:[Object(V.jsx)("div",{className:"dropdown-trigger",children:Object(V.jsx)("button",{type:"button",className:"menu__button is-size-4",onClick:function(){return l(!r)},children:"".concat(null===n||void 0===n?void 0:n.firstname," ").concat(null===n||void 0===n?void 0:n.lastname)})}),Object(V.jsxs)("div",{className:"menu__box dropdown-menu",children:[n.accountType===he.User&&Object(V.jsxs)("div",{className:"menu__content dropdown-content",children:[Object(V.jsx)(i.b,{to:"/profile",className:"menu__item dropdown-item",children:"My profile"}),Object(V.jsx)("hr",{className:"dropdown-divider"}),Object(V.jsx)(i.b,{to:"/projects/my",className:"menu__item dropdown-item",children:"My projects"}),Object(V.jsx)("hr",{className:"dropdown-divider"}),Object(V.jsx)(i.b,{to:"/quote",className:"menu__item dropdown-item",children:"New project"}),Object(V.jsx)("hr",{className:"dropdown-divider"}),Object(V.jsx)(i.b,{to:"/",onClick:h,className:"menu__item dropdown-item",children:"Log out"})]}),n.accountType===he.Translator&&Object(V.jsxs)("div",{className:"menu__content dropdown-content",children:[Object(V.jsx)(i.b,{to:"/profile",className:"menu__item dropdown-item",children:"My profile"}),Object(V.jsx)("hr",{className:"dropdown-divider"}),Object(V.jsx)(i.b,{to:"/projects/my",className:"menu__item dropdown-item",children:"My projects"}),Object(V.jsx)("hr",{className:"dropdown-divider"}),Object(V.jsx)(i.b,{to:"/projects",className:"menu__item dropdown-item",children:"Available projects"}),Object(V.jsx)("hr",{className:"dropdown-divider"}),Object(V.jsx)(i.b,{to:"/",className:"menu__item dropdown-item",onClick:h,children:"Log out"})]})]})]}):Object(V.jsx)(V.Fragment,{})},xe=(n(56),function(){var e=P();return Object(V.jsxs)("header",{className:"header",children:[Object(V.jsx)(i.b,{to:"/",className:"header__logo has-text-primary-dark has-text-weight-light is-size-2",children:"Wordsly"}),e?Object(V.jsx)(fe,{}):Object(V.jsx)(i.b,{to:"/sign-in",className:"header__sign-in is-size-4",children:"Sign in"})]})}),Oe=(n(57),function(){var e=Object(j.h)(),t=Object(h.useErrorHandler)(),n=Object(o.c)(me),s=Object(o.c)(je),c=Object(a.useState)(0),r=Object(q.a)(c,2),i=r[0],l=r[1],b=Object(a.useState)(0),p=Object(q.a)(b,2),f=p[0],x=p[1],O=Object(a.useState)(0),v=Object(q.a)(O,2),g=v[0],w=v[1],N=Object(a.useState)([]),_=Object(q.a)(N,2),y=_[0],k=_[1],S=Object(a.useState)([]),C=Object(q.a)(S,2),z=C[0],P=C[1],T=Object(a.useState)([]),L=Object(q.a)(T,2),U=L[0],I=L[1],F=Object(a.useState)(null),A=Object(q.a)(F,2),D=A[0],B=A[1];Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a=i,s=f,c=g,E("".concat(m,"/api/Projects/active?subjectId=").concat(a,"&sourceLangId=").concat(s,"&targetLangId=").concat(c));case 3:n=e.sent,k(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(e.t0);case 10:case"end":return e.stop()}var a,s,c}),e,null,[[0,7]])})))()}),[i,f,g]),Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var a,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R();case 3:a=e.sent,B(a),c=n.filter((function(e){return a.subjectIds.includes(e.id)})),P(c),r=s.filter((function(e){return a.languagesPairs.some((function(t){return t.sourceLanguageId===e.id}))})),I(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[n,s]);var J=Object(a.useMemo)((function(){return D?f?s.filter((function(e){return D.languagesPairs.some((function(t){return t.outputLanguageId===e.id&&t.sourceLanguageId===f}))})):s.filter((function(e){return D.languagesPairs.some((function(t){return t.outputLanguageId===e.id}))})):[]}),[f,D]),W=function(){var n=Object(d.a)(u.a.mark((function n(a,s,c){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.nativeEvent.preventDefault(),n.prev=1,n.next=4,oe(s,c);case 4:e("/project/".concat(s,"/").concat(c)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),t(n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e,t,a){return n.apply(this,arguments)}}();return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("div",{className:"projects__header",children:Object(V.jsx)(xe,{})}),Object(V.jsxs)("div",{className:"projects__filters",children:[Object(V.jsx)("div",{className:"select is-rounded is-medium",children:Object(V.jsxs)("select",{value:i,onChange:function(e){var t=+e.target.value;l(t)},className:"projects__select has-text-weight-light",children:[Object(V.jsx)("option",{value:0,children:"All subjects"}),z.map((function(e){return Object(V.jsx)("option",{value:e.id,children:e.subject},e.id)}))]})}),Object(V.jsx)("div",{className:"select is-rounded is-medium",children:Object(V.jsxs)("select",{value:f,onChange:function(e){var t=+e.target.value;x(t)},className:"projects__select has-text-weight-light",children:[Object(V.jsx)("option",{value:0,children:"All source languages"}),U.map((function(e){return Object(V.jsx)("option",{value:e.id,children:e.language},e.id)}))]})}),Object(V.jsx)("div",{className:"select is-rounded is-medium",children:Object(V.jsxs)("select",{value:g,onChange:function(e){var t=+e.target.value;w(t)},className:"projects__select has-text-weight-light",children:[Object(V.jsx)("option",{value:0,children:"All target languages"}),J.map((function(e){return Object(V.jsx)("option",{value:e.id,children:e.language},e.id)}))]})})]}),Object(V.jsxs)("table",{className:"table is-hoverable is-fullwidth",children:[Object(V.jsx)("thead",{children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"File name"}),Object(V.jsx)("th",{children:"Source language"}),Object(V.jsx)("th",{children:"Target language"}),Object(V.jsx)("th",{children:"Subject"}),Object(V.jsx)("th",{children:"Words count"}),Object(V.jsx)("th",{})]})}),Object(V.jsx)("tbody",{children:y.map((function(e){return Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:e.fileName}),Object(V.jsx)("td",{children:e.sourceLanguage.language}),Object(V.jsx)("td",{children:e.targetLanguage.language}),Object(V.jsx)("td",{children:e.subject.subject}),Object(V.jsx)("td",{children:e.wordsCount}),Object(V.jsx)("td",{children:Object(V.jsx)("a",{href:"/",className:"projects__choose",onClick:function(t){return W(t,e.id,e.targetLanguage.id)},children:"Choose a project"})})]},e.id+e.targetLanguage.id)}))})]})]})}),ve=n.p+"static/media/home-background.48123240.png",ge=(n(58),function(){return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(xe,{}),Object(V.jsx)("main",{children:Object(V.jsxs)("section",{className:"home",children:[Object(V.jsx)("h2",{className:"home__title has-text-weight-light",children:"Translate Better and Faster"}),Object(V.jsx)("div",{className:"columns",children:Object(V.jsxs)("div",{className:"home__section column is-half-desktop",children:[Object(V.jsx)("p",{className:"home__text has-text-weight-light",children:"Easily translate your documents and digital content with quality and speed in over 50 languages."}),Object(V.jsx)(i.b,{to:"/quote",className:"home__button button is-rounded is-medium",children:"Get an instant quote"})]})}),Object(V.jsx)("img",{src:ve,alt:"background",className:"home__background is-hidden-touch"})]})})]})}),we=n(63),Ne=n(3),_e=n(11),ye=n(38),ke=n.p+"static/media/not-found.ac85270e.png",Se=(n(59),function(){var e=Object(h.useErrorHandler)(),t=Object(j.h)(),n=Object(o.c)(Z),s=Object(o.c)(je),c=(null===n||void 0===n?void 0:n.accountType)===he.User,r=Object(j.i)(),l=r.id,b=r.lang,p=Object(a.useState)(1),m=Object(q.a)(p,2),f=m[0],v=m[1],g=Object(a.useState)(!1),w=Object(q.a)(g,2),N=w[0],_=w[1],y=Object(a.useState)([]),k=Object(q.a)(y,2),S=k[0],C=k[1],z=Object(a.useState)(0),P=Object(q.a)(z,2),T=P[0],L=P[1],E=Object(a.useState)(0),U=Object(q.a)(E,2),I=U[0],F=U[1],D=Object(a.useState)(""),B=Object(q.a)(D,2),J=B[0],W=B[1],H=Object(a.useState)(""),M=Object(q.a)(H,2),$=M[0],Q=M[1],R=Object(a.useState)(),G=Object(q.a)(R,2),K=G[0],X=G[1],Y=Object(a.useState)([]),ie=Object(q.a)(Y,2),oe=ie[0],le=ie[1],ue=Object(a.useState)(""),de=Object(q.a)(ue,2),be=de[0],pe=de[1],me=Object(a.useState)(),fe=Object(q.a)(me,2),Oe=fe[0],ve=fe[1],ge=Object(a.useState)(),Se=Object(q.a)(ge,2),Ce=Se[0],ze=Se[1];Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l||!b){e.next=5;break}return e.next=3,ne(l,b);case 3:t=e.sent,X(t);case 5:case"end":return e.stop()}}),e)})))()}),[l,b]),Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l&&b&&f)){e.next=12;break}return e.prev=1,e.next=4,ee(l,b,f);case 4:t=e.sent,C(t.result),L(t.pagesCount),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),_(!0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()}),[l,b,f]),Object(a.useEffect)((function(){var e=(new we.a).configureLogging(Ne.a.Information).withUrl(x,{skipNegotiation:!0,transport:_e.a.WebSockets}).withAutomaticReconnect().build();ve(e);var t=(new we.a).configureLogging(Ne.a.Information).withUrl(O,{skipNegotiation:!0,transport:_e.a.WebSockets}).withAutomaticReconnect().build();ze(t)}),[]),Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Oe){t.next=4;break}return t.next=3,Oe.start();case 3:Oe.on("loadString",function(){var t=Object(d.a)(u.a.mark((function t(n,a){var s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,te(l,a,n);case 5:s=t.sent,C((function(e){return e.map((function(e){return e.id===s.id?s:e}))})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),e(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)})))()}),[Oe]),Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Ce){t.next=4;break}return t.next=3,Ce.start();case 3:Ce.on("loadComments",function(){var t=Object(d.a)(u.a.mark((function t(n,a){var s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ae(n,a);case 3:s=t.sent,le(s),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)})))()}),[Ce]),Object(a.useEffect)((function(){return(null===Ce||void 0===Ce?void 0:Ce.state)===ye.b.Connected&&I&&b&&Ce.invoke("Join",I,+b),function(){(null===Ce||void 0===Ce?void 0:Ce.state)===ye.b.Connected&&I&&b&&Ce.invoke("Leave",I,+b)}}),[null===Ce||void 0===Ce?void 0:Ce.state,I]),Object(a.useEffect)((function(){return(null===Oe||void 0===Oe?void 0:Oe.state)===ye.b.Connected&&b&&S.forEach((function(e){Oe.invoke("Join",e.id,+b)})),function(){(null===Oe||void 0===Oe?void 0:Oe.state)===ye.b.Connected&&b&&S.forEach((function(e){Oe.invoke("Leave",e.id,+b)}))}}),[null===Oe||void 0===Oe?void 0:Oe.state,S.map((function(e){return e.id}))]),Object(a.useEffect)((function(){var e=S.find((function(e){return e.id===I}));return e&&W(e.translatedString),!c&&(null===Oe||void 0===Oe?void 0:Oe.state)===ye.b.Connected&&l&&b&&I&&Oe.invoke("StartEdit",I,+b),function(){!c&&(null===Oe||void 0===Oe?void 0:Oe.state)===ye.b.Connected&&l&&b&&I&&Oe.invoke("LeaveEdit",I,+b)}}),[null===Oe||void 0===Oe?void 0:Oe.state,I]),Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!I||!b){t.next=11;break}return t.prev=1,t.next=4,ae(I,+b);case 4:n=t.sent,le(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()}),[I,b]);var Pe=function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Enter"!==n.key||!be||!b){t.next=10;break}return t.prev=1,t.next=4,se(I,+b,be);case 4:pe(""),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),e(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),Te=function(e){e!==I&&(F(e),W(""),$&&Q(""))},Le=function(e){v(e),Te(0)},Ee=function(e){W(e.target.value),$&&Q("")},Ue=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key||t.shiftKey||!l||!b||!I){e.next=11;break}return t.nativeEvent.preventDefault(),e.prev=2,e.next=5,ce(l,+b,I,J);case 5:F(0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),Q(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var n=Object(d.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!l||!b){n.next=10;break}return n.prev=1,n.next=4,re(+l,+b);case 4:t("/projects/my"),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),e(n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(){return n.apply(this,arguments)}}(),qe=Object(a.useMemo)((function(){var e;return b&&(null===(e=s.find((function(e){return e.id===+b})))||void 0===e?void 0:e.language)||""}),[b,s]);return N||!n?Object(V.jsxs)("div",{children:[Object(V.jsx)(xe,{}),Object(V.jsxs)("section",{className:"home",children:[Object(V.jsx)("h2",{className:"home__title has-text-weight-light",children:"The project was not found"}),Object(V.jsx)("div",{className:"columns",children:Object(V.jsx)("div",{className:"home__section column is-half-desktop",children:Object(V.jsx)(i.b,{to:"/",className:"home__button button is-rounded is-medium",children:"Go to home page"})})}),Object(V.jsx)("img",{src:ke,alt:"background",className:"home__background is-hidden-touch"})]})]}):Object(V.jsxs)("div",{children:[Object(V.jsx)(xe,{}),Object(V.jsxs)("div",{className:"project__container",children:[Object(V.jsxs)("div",{className:"project__strings-column",children:[S.map((function(e){return Object(V.jsx)("article",{className:"message",onClick:function(){return Te(e.id)},children:Object(V.jsxs)("div",{className:A()("project__strings message-body",{"project__selected-string":e.id===I}),children:[Object(V.jsx)("p",{className:"project__string has-text-white-ter has-text-weight-light",children:e.originalString}),e.isEditing&&!e.translatedString?Object(V.jsx)("p",{className:"project__string has-text-white-ter",children:Object(V.jsx)("span",{className:"has-text-primary-dark",children:"Is translating..."})}):c||I!==e.id?Object(V.jsx)("p",{className:"project__string has-text-white-ter",children:e.translatedString||Object(V.jsx)("span",{className:"has-text-primary-dark",children:"Currently not translated"})}):Object(V.jsxs)("div",{className:"project__string-control control",children:[Object(V.jsx)("textarea",{className:A()("project__string-entry textarea has-fixed-size",{"is-danger":!!$}),placeholder:"Please, enter translation and press ENTER",value:J,onChange:Ee,onKeyPress:Ue}),$&&Object(V.jsx)("p",{className:"project__error help is-danger",children:$})]})]})},e.id)})),Object(V.jsxs)("div",{className:"project__pagination",children:[f>1&&Object(V.jsx)("button",{type:"button",onClick:function(){return Le(f-1)},className:"project__pagination-button button is-small",children:"<"}),Object(V.jsx)("p",{className:"project__pagination-page is-size-4 has-text-weight-light has-text-white-ter",children:f}),f<T&&Object(V.jsx)("button",{type:"button",onClick:function(){return Le(f+1)},className:"project__pagination-button button is-small",children:">"})]})]}),Object(V.jsxs)("div",{className:"project__info-column",children:[Object(V.jsxs)("article",{className:"message",children:[Object(V.jsx)("div",{className:"message-header",children:Object(V.jsx)("span",{children:"".concat(null===K||void 0===K?void 0:K.projectName," To ").concat(qe)})}),!!(null===K||void 0===K?void 0:K.preferences)&&Object(V.jsx)("div",{className:"message-body has-text-white-ter",children:null===K||void 0===K?void 0:K.preferences}),n.accountType!==he.Translator&&Object(V.jsx)("button",{type:"button",className:"project__info-footer message-header",onClick:Ie,children:"Approve project"})]}),!!I&&Object(V.jsxs)("article",{className:"message",children:[Object(V.jsx)("div",{className:"message-header",children:oe.length?"Comments":"No comments"}),Object(V.jsxs)("div",{className:"message-body",children:[oe.map((function(e){return Object(V.jsx)("article",{className:A()("message is-small",{"is-primary":e.role===he.User,"is-danger":e.role===he.Admin,"is-link":e.role===he.Translator}),children:Object(V.jsxs)("div",{className:"message-body",children:[Object(V.jsx)("span",{children:"".concat(e.userName,": ")}),e.comment]})},e.id)})),Object(V.jsx)("input",{type:"text",name:"comment",className:"input",value:be,onChange:function(e){return pe(e.target.value)},onKeyPress:Pe})]})]})]})]})]})}),Ce=(n(61),function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=sessionStorage.getItem("quote"))){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,E("".concat(b,"/api/Quota/id"));case 5:return t=e.sent,sessionStorage.setItem("quote",t||""),e.abrupt("return",t||"");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),ze=function(e,t){var n=new FormData;return n.append("file",e),n.append("quotaId",t),E("".concat(b,"/api/Quota/source-file"),{method:"POST",body:n})},Pe=function(e,t){return E("".concat(b,"/api/Quota/create-project"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({quoteId:e,preferences:t})})},Te=function(){var e,t,n,s=Object(j.h)(),c=Object(h.useErrorHandler)(),r=Object(o.c)(je),i=Object(o.c)(me),l=Object(a.useState)(),b=Object(q.a)(l,2),p=b[0],m=b[1],x=Object(a.useState)(),O=Object(q.a)(x,2),v=O[0],g=O[1],w=Object(a.useState)(""),N=Object(q.a)(w,2),_=N[0],y=N[1],k=Object(a.useState)("0"),S=Object(q.a)(k,2),C=S[0],z=S[1],T=Object(a.useState)("0"),L=Object(q.a)(T,2),E=L[0],U=L[1],I=Object(a.useState)(""),F=Object(q.a)(I,2),A=F[0],D=F[1];Object(a.useEffect)((function(){var e=(new we.a).configureLogging(Ne.a.Information).withUrl(f,{skipNegotiation:!0,transport:_e.a.WebSockets}).withAutomaticReconnect().build();g(e),Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce();case 2:t=e.sent,y(t);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v||!_){e.next=6;break}return e.next=3,v.start();case 3:return v.on("updateQuota",(function(e){var t,n;m(e),U(null===(t=e.sourceLanguage)||void 0===t?void 0:t.languageCode),z(null===(n=e.subject)||void 0===n?void 0:n.id.toString())})),e.next=6,v.invoke("Join",_);case 6:case"end":return e.stop()}}),e)})))()}),[v,_]);var B=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.target.files)){e.next=11;break}return a=n[0],e.prev=3,e.next=6,ze(a,_);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),c(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===p||void 0===p||null===(n=p.targetLanguages)||void 0===n?void 0:n.length)){e.next=3;break}return e.next=3,null===v||void 0===v?void 0:v.invoke("SendTargetLanguageCodes",_,p.targetLanguages.filter((function(e){return e.id!==t})).map((function(e){return e.languageCode})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,e.next=3,null===v||void 0===v?void 0:v.invoke("SendTargetLanguageCodes",_,(null===p||void 0===p||null===(n=p.targetLanguages)||void 0===n?void 0:n.length)?[].concat(Object(le.a)(p.targetLanguages.map((function(e){return e.languageCode}))),[a]):[a]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.value,z(n),(null===v||void 0===v?void 0:v.state)!==ye.b.Connected){e.next=5;break}return e.next=5,v.invoke("SendSubjectId",_,+n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.value,U(n),(null===v||void 0===v?void 0:v.state)!==ye.b.Connected){e.next=5;break}return e.next=5,v.invoke("SendSourceLanguageCode",_,n,!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===p||void 0===p?void 0:p.fileName)&&p.sourceLanguage&&p.targetLanguages.length&&p.subject&&p.price)){e.next=22;break}if(e.prev=1,!P()){e.next=15;break}return e.prev=3,e.next=6,Pe(_,A);case 6:sessionStorage.removeItem("quote"),s("/projects/my"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),c(e.t0);case 13:e.next=17;break;case 15:sessionStorage.setItem("preferences",A),s("/sign-in");case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(1),c(e.t1);case 22:case"end":return e.stop()}}),e,null,[[1,19],[3,10]])})));return function(){return e.apply(this,arguments)}}();return Object(V.jsxs)("div",{children:[Object(V.jsx)("div",{className:"quote__header",children:Object(V.jsx)(xe,{})}),Object(V.jsx)("div",{className:"quote__title",children:Object(V.jsx)("span",{className:"has-text-white has-text-weight-light is-size-4",children:"Please give us a description of what you need by completing the following:"})}),Object(V.jsxs)("div",{className:"quote__container",children:[Object(V.jsxs)("div",{className:"quote__inputs",children:[Object(V.jsxs)("span",{className:"has-text-white has-text-weight-light is-size-4",children:["File for translation:",Object(V.jsx)("div",{className:"quote__input file has-name is-fullwidth is-medium is-right",children:Object(V.jsxs)("label",{htmlFor:"file",className:"file-label",children:[Object(V.jsx)("input",{id:"file",onChange:B,className:"file-input is-rounded",type:"file",name:"resume",accept:".rtf, .doc, .docx, .ppt, .pptx, .xls, .xlsx, .html, .xml, .txt, .srt, .sbv, .odt, .ods, .odp"}),Object(V.jsx)("span",{className:"file-cta",children:Object(V.jsx)("span",{className:"file-label",children:"Choose a file\u2026"})}),Object(V.jsx)("span",{className:"file-name has-text-white",children:null===p||void 0===p?void 0:p.fileName})]})})]}),Object(V.jsxs)("label",{htmlFor:"subject",className:"has-text-white has-text-weight-light is-size-4",children:["Subject:",Object(V.jsx)("div",{className:"quote__input select is-rounded is-medium is-fullwidth",children:Object(V.jsxs)("select",{id:"subject",value:C,onChange:H,className:"has-text-weight-light",children:[Object(V.jsx)("option",{value:0,disabled:!0,children:"Choose  subject(s)"}),i.map((function(e){return Object(V.jsx)("option",{value:e.id,children:e.subject},e.id)}))]})})]}),Object(V.jsxs)("label",{htmlFor:"sourceLanguage",className:"has-text-white has-text-weight-light is-size-4",children:["Translate from:",Object(V.jsx)("div",{className:"control",children:Object(V.jsx)("div",{className:"quote__input select is-fullwidth is-rounded is-medium",children:Object(V.jsxs)("select",{id:"sourceLanguage",value:E,onChange:M,className:"has-text-weight-light",children:[Object(V.jsx)("option",{value:0,disabled:!0,children:"Choose language(s)"}),r.map((function(e){return Object(V.jsx)("option",{value:e.languageCode,children:e.language},e.id)}))]})})})]}),Object(V.jsxs)("label",{htmlFor:"outputLanguage",className:"has-text-white has-text-weight-light is-size-4",children:["Translate to:",Object(V.jsx)("div",{className:"control",children:Object(V.jsx)("div",{className:"quote__input select is-rounded is-fullwidth is-medium",children:Object(V.jsxs)("select",{id:"outputLanguage",value:0,onChange:W,className:"has-text-weight-light",children:[Object(V.jsx)("option",{value:0,disabled:!0,children:"Choose language(s)"}),r.filter((function(e){return e.languageCode!==E})).map((function(e){return Object(V.jsx)("option",{value:e.languageCode,children:e.language},e.id)}))]})})})]}),Object(V.jsx)("div",{className:"control",children:Object(V.jsx)("textarea",{className:"quote__preferences textarea has-fixed-size is-fullwidth is-medium",placeholder:"Please, enter your preferences",value:A,onChange:function(e){return D(e.target.value)}})})]}),Object(V.jsx)("div",{className:"quote__info",children:Object(V.jsxs)("div",{className:"quote__card card",children:[Object(V.jsx)("header",{className:"card-header",children:Object(V.jsx)("h1",{className:"quote__info-header card-header-title",children:"Order Details"})}),Object(V.jsx)("section",{className:"card-content",children:Object(V.jsxs)("div",{className:"content",children:[Object(V.jsx)("p",{children:"File name: ".concat((null===p||void 0===p?void 0:p.fileName)||"")}),Object(V.jsx)("p",{children:"Subject field: ".concat((null===p||void 0===p||null===(e=p.subject)||void 0===e?void 0:e.subject)||"")}),Object(V.jsx)("p",{children:"Transalte from: ".concat((null===p||void 0===p||null===(t=p.sourceLanguage)||void 0===t?void 0:t.language)||"")}),Object(V.jsxs)("p",{className:"quote__info-langs",children:["Translate to: ",!!(null===p||void 0===p||null===(n=p.targetLanguages)||void 0===n?void 0:n.length)&&p.targetLanguages.map((function(e){var t=e.id,n=r.find((function(e){return e.id===t}));return Object(V.jsxs)("span",{className:"tag is-light is-rounded",children:[null===n||void 0===n?void 0:n.language,Object(V.jsx)("button",{type:"button",className:"delete is-small",onClick:function(){return J(t)}})]},t)}))]}),Object(V.jsxs)("div",{className:"quote__info-row",children:[Object(V.jsx)("p",{className:"quote__info-words",children:"Words count: ".concat((null===p||void 0===p?void 0:p.wordsCount)||((null===p||void 0===p?void 0:p.isCounting)?"counting":""))}),Object(V.jsx)("p",{children:"Price ($): ".concat((null===p||void 0===p?void 0:p.price)?p.price/100:"")})]})]})}),Object(V.jsx)("footer",{className:"card-footer",children:Object(V.jsx)("button",{type:"button",className:"quote__info-button card-header-title card-footer-item",onClick:$,children:"Save"})})]})})]})]})},Le=(n(31),function(){var e=Object(h.useErrorHandler)(),t=Object(o.b)(),n=Object(o.c)(Z),s=Object(o.c)(me),c=Object(o.c)(je),r=Object(a.useState)(""),i=Object(q.a)(r,2),l=i[0],j=i[1],b=Object(a.useState)(""),m=Object(q.a)(b,2),f=m[0],x=m[1],O=Object(a.useState)(""),v=Object(q.a)(O,2),g=v[0],w=v[1],N=Object(a.useState)(null),_=Object(q.a)(N,2),y=_[0],k=_[1],S=Object(a.useState)(""),C=Object(q.a)(S,2),z=C[0],P=C[1],T=Object(a.useState)(""),L=Object(q.a)(T,2),U=L[0],I=L[1],F=Object(a.useState)(!1),J=Object(q.a)(F,2),M=J[0],G=J[1],X=Object(a.useState)(!1),Y=Object(q.a)(X,2),ee=Y[0],te=Y[1],ne=Object(a.useState)(!1),ae=Object(q.a)(ne,2),se=ae[0],ce=ae[1],re=Object(a.useState)(!1),ie=Object(q.a)(re,2),oe=ie[0],ue=ie[1],de=Object(a.useState)(!1),he=Object(q.a)(de,2),be=he[0],pe=he[1],fe=Object(a.useState)(!1),Oe=Object(q.a)(fe,2),ve=Oe[0],ge=Oe[1],we=Object(a.useState)(null),Ne=Object(q.a)(we,2),_e=Ne[0],ye=Ne[1],ke=Object(a.useState)([]),Se=Object(q.a)(ke,2),Ce=Se[0],ze=Se[1],Pe=Object(a.useState)([]),Te=Object(q.a)(Pe,2),Le=Te[0],Ee=Te[1],Ue=Object(a.useState)(0),Ie=Object(q.a)(Ue,2),qe=Ie[0],Fe=Ie[1],Ae=Object(a.useState)(0),De=Object(q.a)(Ae,2),Be=De[0],Je=De[1];Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W();case 3:return n=t.sent,t.next=6,R();case 6:a=t.sent,k(n),ye(a),ze(a.subjectIds),Ee(a.languagesPairs),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),e(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()}),[]),Object(a.useEffect)((function(){n&&(j(n.firstname),x(n.lastname),w(n.email))}),[n]);var We=function(){var a=Object(d.a)(u.a.mark((function a(){var s,c,r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((null===n||void 0===n?void 0:n.firstname)===l&&(null===n||void 0===n?void 0:n.lastname)===f){a.next=11;break}return a.prev=1,a.next=4,H(l,f);case 4:s=a.sent,t(K.setUser(s)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),e(a.t0);case 11:if((null===n||void 0===n?void 0:n.email)===g){a.next=22;break}return a.prev=12,a.next=15,$(g);case 15:c=a.sent,t(K.setUser(c)),a.next=22;break;case 19:a.prev=19,a.t1=a.catch(12),e(a.t1);case 22:if(!z||!U){a.next=31;break}return a.prev=23,a.next=26,Q(z,U);case 26:a.next=31;break;case 28:a.prev=28,a.t2=a.catch(23),te(!0);case 31:return a.prev=31,a.next=34,i=Ce,o=Le,E("".concat(p,"/api/Users/translator-info"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({subjectIds:i,languagesPairs:o})});case 34:r=a.sent,ye(r),ze(r.subjectIds),Ee(r.languagesPairs),a.next=43;break;case 40:a.prev=40,a.t3=a.catch(31),e(a.t3);case 43:case"end":return a.stop()}var i,o}),a,null,[[1,8],[12,19],[23,28],[31,40]])})));return function(){return a.apply(this,arguments)}}();return Object(V.jsxs)("div",{children:[Object(V.jsx)("div",{className:"user-profile__header",children:Object(V.jsx)(xe,{})}),Object(V.jsxs)("div",{className:"user-profile__container",children:[Object(V.jsxs)("div",{className:"user-profile__projects-info has-text-white has-text-weight-light",children:[Object(V.jsxs)("div",{className:"user-profile__projects-info-data",children:[Object(V.jsx)("p",{className:"is-size-1",children:null===y||void 0===y?void 0:y.active}),Object(V.jsx)("p",{className:"is-size-3",children:" active projects"})]}),Object(V.jsxs)("div",{className:"user-profile__projects-info-data",children:[Object(V.jsx)("p",{className:"is-size-1",children:null===y||void 0===y?void 0:y.completed}),Object(V.jsx)("p",{className:"is-size-3",children:"completed projects"})]}),Object(V.jsxs)("div",{className:"user-profile__projects-info-data",children:[Object(V.jsx)("p",{className:"is-size-1",children:"".concat(null===y||void 0===y?void 0:y.money,"$")}),Object(V.jsx)("p",{className:"is-size-3",children:"total income"})]})]}),Object(V.jsx)("h2",{className:"user-profile__personal-info-title has-text-centered has-text-white has-text-weight-light is-size-3",children:"Personal information"}),Object(V.jsxs)("div",{className:"user-profile__personal-info",children:[Object(V.jsxs)("label",{htmlFor:"firstname",className:"has-text-white has-text-weight-light is-size-4",children:["Firstname:",Object(V.jsxs)("div",{className:"control",children:[Object(V.jsx)("input",{id:"firstname",type:"text",value:l,onChange:function(e){var t=e.target.value;pe(!1),j(t)},onBlur:function(){l||pe(!0)},className:A()("user-profile__personal-info-input input is-rounded has-text-weight-light is-medium",{"is-danger":be})}),be&&Object(V.jsx)("p",{className:"user-profile__error help is-danger",children:"Please, enter your firstname"})]})]}),Object(V.jsxs)("label",{htmlFor:"lastname",className:"has-text-white has-text-weight-light is-size-4",children:["Lastname:",Object(V.jsxs)("div",{className:"control",children:[Object(V.jsx)("input",{id:"lastname",type:"text",value:f,onChange:function(e){var t=e.target.value;ge(!1),x(t)},onBlur:function(){f||ge(!0)},className:A()("user-profile__personal-info-input input is-rounded has-text-weight-light is-medium",{"is-danger":ve})}),ve&&Object(V.jsx)("p",{className:"user-profile__error help is-danger",children:"Please, enter a valid email"})]})]})]}),Object(V.jsx)("h2",{className:"user-profile__personal-info-title has-text-centered has-text-white has-text-weight-light is-size-3",children:"Security and privacy"}),Object(V.jsxs)("div",{className:"user-profile__personal-info",children:[Object(V.jsxs)("label",{htmlFor:"password",className:"has-text-white has-text-weight-light is-size-4",children:["Current password:",Object(V.jsxs)("div",{className:"control",children:[Object(V.jsx)("input",{type:"password",id:"password",value:z,onChange:function(e){var t=e.target.value;G(!1),te(!1),P(t)},onBlur:function(){!D.test(z)&&z&&G(!0)},className:A()("user-profile__personal-info-input input is-rounded has-text-weight-light is-medium",{"is-danger":M||ee})}),M&&Object(V.jsx)("p",{className:"user-profile__error help is-danger",children:"Password must contain at least 8 characters, one digit, one uppercase and lowercase letter"}),ee&&Object(V.jsx)("p",{className:"user-profile__error help is-danger",children:"Ooops, wrong password."})]})]}),Object(V.jsxs)("label",{htmlFor:"newPassword",className:"has-text-white has-text-weight-light is-size-4",children:["New password:",Object(V.jsxs)("div",{className:"control",children:[Object(V.jsx)("input",{type:"password",id:"newPassword",value:U,onChange:function(e){var t=e.target.value;ce(!1),I(t)},onBlur:function(){!D.test(U)&&U&&ce(!0)},className:A()("user-profile__personal-info-input input is-rounded has-text-weight-light is-medium",{"is-danger":se})}),se&&Object(V.jsx)("p",{className:"user-profile__error help is-danger",children:"Password must contain at least 8 characters, one digit, one uppercase and lowercase letter"})]})]}),Object(V.jsxs)("label",{htmlFor:"email",className:"has-text-white has-text-weight-light is-size-4",children:["Email:",Object(V.jsxs)("div",{className:"control",children:[Object(V.jsx)("input",{id:"email",type:"email",value:g,onChange:function(e){var t=e.target.value;ue(!1),w(t)},onBlur:function(){B.test(g)||ue(!0)},className:A()("user-profile__personal-info-input input is-rounded has-text-weight-light is-medium",{"is-danger":oe})}),oe&&Object(V.jsx)("p",{className:"user-profile__error help is-danger",children:"Please, enter a valid email"})]})]})]}),Object(V.jsx)("h2",{className:"user-profile__personal-info-title has-text-centered has-text-white has-text-weight-light is-size-3",children:"Subjects"}),Object(V.jsxs)("div",{className:"user-profile__subjects",children:[Object(V.jsx)("div",{className:"select is-rounded is-medium",children:Object(V.jsxs)("select",{value:0,onChange:function(e){var t=+e.target.value;Ce.includes(t)||ze([].concat(Object(le.a)(Ce),[t]))},className:"user-profile__subject-select has-text-weight-light",children:[Object(V.jsx)("option",{value:0,disabled:!0,children:"Choose  subject(s)"}),s.map((function(e){return Object(V.jsx)("option",{value:e.id,children:e.subject},e.id)}))]})}),Object(V.jsx)("div",{className:"user-profile__selected-subjects",children:Ce.length?Ce.map((function(e){var t=s.find((function(t){return t.id===e}));return Object(V.jsxs)("span",{className:"tag is-primary is-rounded",children:[null===t||void 0===t?void 0:t.subject,Object(V.jsx)("button",{type:"button",className:"delete is-small",onClick:function(){return function(e){var t=Ce.filter((function(t){return t!==e}));ze(t)}(e)}})]},e)})):Object(V.jsx)("span",{className:"has-text-white has-text-weight-light",children:"Please, choose subject fields in order to have access to projects."})})]}),Object(V.jsx)("h2",{className:"user-profile__personal-info-title has-text-centered has-text-white has-text-weight-light is-size-3",children:"Language pairs"}),Object(V.jsxs)("div",{className:"user-profile__language-pairs",children:[Object(V.jsxs)("div",{className:"user-profile__languages",children:[Object(V.jsxs)("label",{htmlFor:"sourceLanguage",className:"has-text-white has-text-weight-light is-size-4",children:["Translate from:",Object(V.jsx)("div",{className:"control",children:Object(V.jsx)("div",{className:"user-profile__language-select select is-rounded is-medium",children:Object(V.jsxs)("select",{id:"sourceLanguage",value:qe,onChange:function(e){var t=+e.target.value;Fe(t)},className:"user-profile__subject-select has-text-weight-light",children:[Object(V.jsx)("option",{value:0,disabled:!0,children:"Choose language(s)"}),c.map((function(e){return Object(V.jsx)("option",{value:e.id,children:e.language},e.id)}))]})})})]}),Object(V.jsxs)("label",{htmlFor:"outputLanguage",className:"has-text-white has-text-weight-light is-size-4",children:["Translate to:",Object(V.jsx)("div",{className:"control",children:Object(V.jsx)("div",{className:"user-profile__language-select select is-rounded is-medium",children:Object(V.jsxs)("select",{id:"outputLanguage",value:Be,onChange:function(e){var t=+e.target.value;Je(t)},className:"user-profile__subject-select has-text-weight-light",children:[Object(V.jsx)("option",{value:0,disabled:!0,children:"Choose language(s)"}),c.filter((function(e){return e.id!==qe})).map((function(e){return Object(V.jsx)("option",{value:e.id,children:e.language},e.id)}))]})})})]}),Object(V.jsx)("button",{type:"button",className:"user-profile__add-button user-profile__update button is-rounded is-medium",onClick:function(){var e=Le.some((function(e){return e.sourceLanguageId===qe&&e.outputLanguageId===Be}));qe&&Be&&!e&&Ee([].concat(Object(le.a)(Le),[{sourceLanguageId:qe,outputLanguageId:Be}]))},children:"Add"})]}),Le.length?Object(V.jsx)("div",{className:"user-profile__table-container table-container",children:Object(V.jsxs)("table",{className:"user-profile__table table is-hoverable",children:[Object(V.jsx)("thead",{children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Source language"}),Object(V.jsx)("th",{children:"Target language"}),Object(V.jsx)("th",{})]})}),Object(V.jsx)("tbody",{children:Le.map((function(e){var t=c.find((function(t){return t.id===e.sourceLanguageId})),n=c.find((function(t){return t.id===e.outputLanguageId}));return Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:null===t||void 0===t?void 0:t.language}),Object(V.jsx)("td",{children:null===n||void 0===n?void 0:n.language}),Object(V.jsx)("td",{children:Object(V.jsx)("button",{type:"button",className:"delete",onClick:function(){return function(e){var t=Le.filter((function(t){return t!==e}));Ee(t)}(e)}})})]},"".concat(e.sourceLanguageId,"-").concat(e.outputLanguageId))}))})]})}):Object(V.jsx)("div",{className:"user-profile__selected-languages",children:Object(V.jsx)("span",{className:"has-text-white has-text-weight-light",children:"Please, choose languages pairs in order to have access to projects."})})]}),Object(V.jsxs)("div",{className:"user-profile__button-container",children:[Object(V.jsx)("button",{type:"button",className:"user-profile__cancel button is-rounded is-medium",onClick:function(){n&&(j(n.firstname),x(n.lastname),w(n.email)),P(""),I(""),pe(!1),ge(!1),ue(!1),G(!1),ce(!1),te(!1),_e&&(Ee(_e.languagesPairs),ze(_e.subjectIds))},children:"Cancel"}),Object(V.jsx)("button",{type:"button",disabled:oe||M||ee||se||be||ve,onClick:We,className:"user-profile__update button is-rounded is-medium",children:"Update"})]})]})]})}),Ee=function(){var e=Object(h.useErrorHandler)(),t=Object(o.b)(),n=Object(o.c)(Z),s=Object(a.useState)(""),c=Object(q.a)(s,2),r=c[0],i=c[1],l=Object(a.useState)(""),j=Object(q.a)(l,2),b=j[0],m=j[1],f=Object(a.useState)(""),x=Object(q.a)(f,2),O=x[0],v=x[1],g=Object(a.useState)(null),w=Object(q.a)(g,2),N=w[0],_=w[1],y=Object(a.useState)(null),k=Object(q.a)(y,2),S=k[0],C=k[1],z=Object(a.useState)(""),P=Object(q.a)(z,2),T=P[0],L=P[1],U=Object(a.useState)(""),I=Object(q.a)(U,2),F=I[0],J=I[1],R=Object(a.useState)(""),G=Object(q.a)(R,2),X=G[0],Y=G[1],ee=Object(a.useState)(""),te=Object(q.a)(ee,2),ne=te[0],ae=te[1],se=Object(a.useState)(!1),ce=Object(q.a)(se,2),re=ce[0],ie=ce[1],oe=Object(a.useState)(!1),le=Object(q.a)(oe,2),ue=le[0],de=le[1],je=Object(a.useState)(!1),he=Object(q.a)(je,2),be=he[0],pe=he[1],me=Object(a.useState)(!1),fe=Object(q.a)(me,2),Oe=fe[0],ve=fe[1],ge=Object(a.useState)(!1),we=Object(q.a)(ge,2),Ne=we[0],_e=we[1],ye=Object(a.useState)(!1),ke=Object(q.a)(ye,2),Se=ke[0],Ce=ke[1];Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=sessionStorage.getItem("quote"),n=sessionStorage.getItem("preferences"),!t){e.next=15;break}return e.prev=3,e.next=6,Pe(t,n);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0);case 11:return e.prev=11,sessionStorage.removeItem("quote"),sessionStorage.removeItem("preferences"),e.finish(11);case 15:case"end":return e.stop()}}),e,null,[[3,8,11,15]])})))()}),[]),Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W();case 3:return n=t.sent,t.next=6,E("".concat(p,"/api/Users/personal-info"));case 6:a=t.sent,_(n),C(a),L(a.website),J(a.company),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),e(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()}),[]),Object(a.useEffect)((function(){n&&(i(n.firstname),m(n.lastname),v(n.email))}),[n]);var ze=function(){var a=Object(d.a)(u.a.mark((function a(){var s,c,i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((null===n||void 0===n?void 0:n.firstname)===r&&(null===n||void 0===n?void 0:n.lastname)===b){a.next=11;break}return a.prev=1,a.next=4,H(r,b);case 4:s=a.sent,t(K.setUser(s)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),e(a.t0);case 11:if((null===S||void 0===S?void 0:S.website)===T&&S.company===F){a.next=22;break}return a.prev=12,a.next=15,M(T,F);case 15:c=a.sent,C(c),a.next=22;break;case 19:a.prev=19,a.t1=a.catch(12),e(a.t1);case 22:if((null===n||void 0===n?void 0:n.email)===O){a.next=33;break}return a.prev=23,a.next=26,$(O);case 26:i=a.sent,t(K.setUser(i)),a.next=33;break;case 30:a.prev=30,a.t2=a.catch(23),e(a.t2);case 33:if(!X||!ne){a.next=42;break}return a.prev=34,a.next=37,Q(X,ne);case 37:a.next=42;break;case 39:a.prev=39,a.t3=a.catch(34),de(!0);case 42:case"end":return a.stop()}}),a,null,[[1,8],[12,19],[23,30],[34,39]])})));return function(){return a.apply(this,arguments)}}();return Object(V.jsxs)("div",{children:[Object(V.jsx)("div",{className:"user-profile__header",children:Object(V.jsx)(xe,{})}),Object(V.jsxs)("div",{className:"user-profile__container",children:[Object(V.jsxs)("div",{className:"user-profile__projects-info has-text-white has-text-weight-light",children:[Object(V.jsxs)("div",{className:"user-profile__projects-info-data",children:[Object(V.jsx)("p",{className:"is-size-1",children:null===N||void 0===N?void 0:N.active}),Object(V.jsx)("p",{className:"is-size-3",children:" active projects"})]}),Object(V.jsxs)("div",{className:"user-profile__projects-info-data",children:[Object(V.jsx)("p",{className:"is-size-1",children:null===N||void 0===N?void 0:N.completed}),Object(V.jsx)("p",{className:"is-size-3",children:"completed projects"})]}),Object(V.jsxs)("div",{className:"user-profile__projects-info-data",children:[Object(V.jsx)("p",{className:"is-size-1",children:null===N||void 0===N?void 0:N.waiting}),Object(V.jsx)("p",{className:"is-size-3",children:"waiting for payment"})]}),Object(V.jsxs)("div",{className:"user-profile__projects-info-data",children:[Object(V.jsx)("p",{className:"is-size-1",children:"".concat(null===N||void 0===N?void 0:N.money,"$")}),Object(V.jsx)("p",{className:"is-size-3",children:"total amount"})]})]}),Object(V.jsx)("h2",{className:"user-profile__personal-info-title has-text-centered has-text-white has-text-weight-light is-size-3",children:"Personal information"}),Object(V.jsxs)("div",{className:"user-profile__personal-info",children:[Object(V.jsxs)("label",{htmlFor:"firstname",className:"has-text-white has-text-weight-light is-size-4",children:["Firstname:",Object(V.jsxs)("div",{className:"control",children:[Object(V.jsx)("input",{id:"firstname",type:"text",value:r,onChange:function(e){var t=e.target.value;_e(!1),i(t)},onBlur:function(){r||_e(!0)},className:A()("user-profile__personal-info-input input is-rounded has-text-weight-light is-medium",{"is-danger":Ne})}),Ne&&Object(V.jsx)("p",{className:"user-profile__error help is-danger",children:"Please, enter your firstname"})]})]}),Object(V.jsxs)("label",{htmlFor:"lastname",className:"has-text-white has-text-weight-light is-size-4",children:["Lastname:",Object(V.jsxs)("div",{className:"control",children:[Object(V.jsx)("input",{id:"lastname",type:"text",value:b,onChange:function(e){var t=e.target.value;Ce(!1),m(t)},onBlur:function(){b||Ce(!0)},className:A()("user-profile__personal-info-input input is-rounded has-text-weight-light is-medium",{"is-danger":Se})}),Se&&Object(V.jsx)("p",{className:"user-profile__error help is-danger",children:"Please, enter a valid email"})]})]}),Object(V.jsxs)("label",{htmlFor:"company",className:"has-text-white has-text-weight-light is-size-4",children:["Company name:",Object(V.jsx)("div",{className:"control",children:Object(V.jsx)("input",{id:"company",type:"text",value:F,onChange:function(e){J(e.target.value)},className:"user-profile__personal-info-input input is-rounded has-text-weight-light is-medium"})})]}),Object(V.jsxs)("label",{htmlFor:"userWebsite",className:"has-text-white has-text-weight-light is-size-4",children:["Website:",Object(V.jsx)("div",{className:"control",children:Object(V.jsx)("input",{id:"userWebsite",type:"text",value:T,onChange:function(e){L(e.target.value)},className:"user-profile__personal-info-input input is-rounded has-text-weight-light is-medium"})})]})]}),Object(V.jsx)("h2",{className:"user-profile__personal-info-title has-text-centered has-text-white has-text-weight-light is-size-3",children:"Security and privacy"}),Object(V.jsxs)("div",{className:"user-profile__personal-info",children:[Object(V.jsxs)("label",{htmlFor:"password",className:"has-text-white has-text-weight-light is-size-4",children:["Current password:",Object(V.jsxs)("div",{className:"control",children:[Object(V.jsx)("input",{type:"password",id:"password",value:X,onChange:function(e){var t=e.target.value;ie(!1),de(!1),Y(t)},onBlur:function(){!D.test(X)&&X&&ie(!0)},className:A()("user-profile__personal-info-input input is-rounded has-text-weight-light is-medium",{"is-danger":re||ue})}),re&&Object(V.jsx)("p",{className:"user-profile__error help is-danger",children:"Password must contain at least 8 characters, one digit, one uppercase and lowercase letter"}),ue&&Object(V.jsx)("p",{className:"user-profile__error help is-danger",children:"Ooops, wrong password."})]})]}),Object(V.jsxs)("label",{htmlFor:"newPassword",className:"has-text-white has-text-weight-light is-size-4",children:["New password:",Object(V.jsxs)("div",{className:"control",children:[Object(V.jsx)("input",{type:"password",id:"newPassword",value:ne,onChange:function(e){var t=e.target.value;pe(!1),ae(t)},onBlur:function(){!D.test(ne)&&ne&&pe(!0)},className:A()("user-profile__personal-info-input input is-rounded has-text-weight-light is-medium",{"is-danger":be})}),be&&Object(V.jsx)("p",{className:"user-profile__error help is-danger",children:"Password must contain at least 8 characters, one digit, one uppercase and lowercase letter"})]})]}),Object(V.jsxs)("label",{htmlFor:"email",className:"has-text-white has-text-weight-light is-size-4",children:["Email:",Object(V.jsxs)("div",{className:"control",children:[Object(V.jsx)("input",{id:"email",type:"email",value:O,onChange:function(e){var t=e.target.value;ve(!1),v(t)},onBlur:function(){B.test(O)||ve(!0)},className:A()("user-profile__personal-info-input input is-rounded has-text-weight-light is-medium",{"is-danger":Oe})}),Oe&&Object(V.jsx)("p",{className:"user-profile__error help is-danger",children:"Please, enter a valid email"})]})]})]}),Object(V.jsxs)("div",{className:"user-profile__button-container",children:[Object(V.jsx)("button",{type:"button",className:"user-profile__cancel button is-rounded is-medium",onClick:function(){n&&(i(n.firstname),m(n.lastname),v(n.email)),S&&(J(S.company),L(S.website)),Y(""),ae(""),_e(!1),Ce(!1),ve(!1),ie(!1),pe(!1),de(!1)},children:"Cancel"}),Object(V.jsx)("button",{type:"button",disabled:Oe||re||ue||be||Ne||Se,onClick:ze,className:"user-profile__update button is-rounded is-medium",children:"Update"})]})]})]})},Ue=(n(32),function(){var e=Object(h.useErrorHandler)(),t=Object(a.useState)(be.Active),n=Object(q.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)([]),o=Object(q.a)(r,2),l=o[0],j=o[1];Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ie(s);case 3:n=t.sent,j(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}),[s]);var b=function(e,t){e.nativeEvent.preventDefault(),c(t)};return Object(V.jsxs)("div",{children:[Object(V.jsx)("div",{className:"projects-page__header",children:Object(V.jsx)(xe,{})}),Object(V.jsx)("div",{className:"tabs is-boxed is-medium",children:Object(V.jsxs)("ul",{className:"projects-page__list",children:[Object(V.jsx)("li",{className:A()({"is-active":s===be.Active}),children:Object(V.jsx)("a",{href:"/",onClick:function(e){return b(e,be.Active)},children:"Active projects"})}),Object(V.jsx)("li",{className:A()({"is-active":s===be.Completed}),children:Object(V.jsx)("a",{href:"/",onClick:function(e){return b(e,be.Completed)},children:"Completed projects"})})]})}),Object(V.jsxs)("table",{className:"table is-hoverable is-fullwidth",children:[Object(V.jsx)("thead",{children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"File name"}),Object(V.jsx)("th",{children:"Source language"}),Object(V.jsx)("th",{children:"Target language"}),Object(V.jsx)("th",{children:"Subject"}),Object(V.jsx)("th",{children:"Words count"}),Object(V.jsx)("th",{children:"Translated words"}),Object(V.jsx)("th",{children:"Start date"}),s===be.Completed&&Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("th",{children:"End date"}),Object(V.jsx)("th",{children:"Price"})]}),Object(V.jsx)("th",{})]})}),Object(V.jsx)("tbody",{children:l.map((function(e){return Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:e.fileName}),Object(V.jsx)("td",{children:e.sourceLanguage.language}),Object(V.jsx)("td",{children:e.targetLanguage.language}),Object(V.jsx)("td",{children:e.subject.subject}),Object(V.jsx)("td",{children:e.wordsCount}),Object(V.jsx)("td",{children:e.transaltedWordsCount}),Object(V.jsx)("td",{children:new Date(Date.parse(e.startDate)).toDateString()}),s===be.Completed&&Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("td",{children:new Date(Date.parse(e.endDate)).toDateString()}),Object(V.jsx)("td",{children:"".concat(e.price,"$")})]}),Object(V.jsx)("td",{children:Object(V.jsx)(i.b,{to:"/project/".concat(e.id,"/").concat(e.targetLanguage.id),className:"projects-page__table-button",children:"View"})})]},e.id+e.targetLanguage.languageCode)}))})]})]})}),Ie=n(35),qe=n.n(Ie),Fe=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(n);case 2:return a=e.sent,e.next=5,fetch(t,a);case 5:if((s=e.sent).ok){e.next=12;break}return e.t0=Error,e.next=10,s.text();case 10:throw e.t1=e.sent,new e.t0(e.t1);case 12:return e.abrupt("return",s.blob());case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(d.a)(u.a.mark((function e(t,n,a){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe("".concat(m,"/api/Projects/").concat(t,"/").concat(n,"/file"));case 2:s=e.sent,qe()(s,a);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),De=n(36),Be=function(e,t){return E("".concat(b,"/api/Quota"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:e,nonce:t})})},Je=function(e){var t=e.show,n=e.setShow,s=e.projectId,c=e.onPaymentComplete,r=Object(h.useErrorHandler)(),i=Object(a.useState)(),o=Object(q.a)(i,2),l=o[0],j=o[1];Object(a.useEffect)((function(){if(t){var e=function(){return De.create({authorization:"sandbox_38sfybrb_v8s2m2wz66fvx7zx",container:"#braintree-drop-in-div"},(function(e,t){e?r(e):j(t)}))};l?l.teardown().then((function(){j(void 0),e()})):e()}}),[t]);return Object(V.jsxs)("div",{className:A()("modal",{"is-active":t}),children:[Object(V.jsx)("div",{className:"modal-background"}),Object(V.jsxs)("div",{className:"modal-card",children:[Object(V.jsxs)("header",{className:"modal-card-head",children:[Object(V.jsx)("p",{className:"modal-card-title",children:"Project payment"}),Object(V.jsx)("button",{type:"button",className:"delete","aria-label":"close",onClick:function(){return n(!1)}})]}),Object(V.jsx)("section",{className:"modal-card-body",children:Object(V.jsx)("div",{id:"braintree-drop-in-div"})}),Object(V.jsx)("footer",{className:"modal-card-foot is-justify-content-flex-end",children:Object(V.jsx)("button",{type:"button",disabled:!l,onClick:function(){l&&l.requestPaymentMethod(function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}r(t),e.next=14;break;case 4:return a=n.nonce,e.prev=5,e.next=8,Be(s,a);case 8:c(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),r(e.t0);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,n){return e.apply(this,arguments)}}())},className:"button is-dark is-outlined",children:"Pay"})})]})]})},We=function(){var e=Object(h.useErrorHandler)(),t=Object(a.useState)(be.Unpaid),n=Object(q.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)([]),o=Object(q.a)(r,2),l=o[0],j=o[1],b=Object(a.useState)(!1),p=Object(q.a)(b,2),m=p[0],f=p[1],x=Object(a.useState)(0),O=Object(q.a)(x,2),v=O[0],g=O[1];Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ie(s);case 3:n=t.sent,j(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}),[s]);var w=function(e,t){e.nativeEvent.preventDefault(),c(t)},N=function(){var t=Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!1),t.prev=1,t.next=4,ie(s);case 4:n=t.sent,j(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}(),_=function(){var t=Object(d.a)(u.a.mark((function t(n,a,s,c){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.nativeEvent.preventDefault(),t.prev=1,t.next=4,Ae(a,s,c);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),e(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n,a,s){return t.apply(this,arguments)}}();return Object(V.jsxs)("div",{children:[Object(V.jsx)("div",{className:"projects-page__header",children:Object(V.jsx)(xe,{})}),Object(V.jsx)("div",{className:"tabs is-boxed is-medium",children:Object(V.jsxs)("ul",{className:"projects-page__list",children:[Object(V.jsx)("li",{className:A()({"is-active":s===be.Active}),children:Object(V.jsx)("a",{href:"/",onClick:function(e){return w(e,be.Active)},children:"Active projects"})}),Object(V.jsx)("li",{className:A()({"is-active":s===be.Completed}),children:Object(V.jsx)("a",{href:"/",onClick:function(e){return w(e,be.Completed)},children:"Completed projects"})}),Object(V.jsx)("li",{className:A()({"is-active":s===be.Unpaid}),children:Object(V.jsx)("a",{href:"/",onClick:function(e){return w(e,be.Unpaid)},children:"Unpaid projects"})})]})}),Object(V.jsxs)("table",{className:"table is-hoverable is-fullwidth",children:[Object(V.jsx)("thead",{children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"File name"}),Object(V.jsx)("th",{children:"Source language"}),Object(V.jsx)("th",{children:"Target language"}),Object(V.jsx)("th",{children:"Subject"}),Object(V.jsx)("th",{children:"Words count"}),s!==be.Unpaid&&Object(V.jsx)("th",{children:"Start date"}),s===be.Completed&&Object(V.jsx)("th",{children:"End date"}),Object(V.jsx)("th",{children:"Price"}),Object(V.jsx)("th",{}),s===be.Completed&&Object(V.jsx)("th",{})]})}),Object(V.jsx)("tbody",{children:l.map((function(e){return Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:e.fileName}),Object(V.jsx)("td",{children:e.sourceLanguage.language}),Object(V.jsx)("td",{children:e.targetLanguage.language}),Object(V.jsx)("td",{children:e.subject.subject}),Object(V.jsx)("td",{children:e.wordsCount}),s!==be.Unpaid&&Object(V.jsx)("td",{children:new Date(Date.parse(e.startDate)).toDateString()}),s===be.Completed&&Object(V.jsx)("td",{children:new Date(Date.parse(e.endDate)).toDateString()}),Object(V.jsx)("td",{children:"".concat(e.price,"$")}),Object(V.jsx)("td",{children:s===be.Unpaid?Object(V.jsx)("a",{href:"/",className:"projects-page__table-button",onClick:function(t){return function(e,t){e.nativeEvent.preventDefault(),g(t),f(!0)}(t,e.id)},children:"Pay"}):Object(V.jsx)(i.b,{to:"/project/".concat(e.id,"/").concat(e.targetLanguage.id),className:"projects-page__table-button",children:"View"})}),s===be.Completed&&Object(V.jsx)("td",{children:Object(V.jsx)("a",{href:"/",className:"projects-page__table-button",onClick:function(t){return _(t,e.id,e.targetLanguage.id,e.fileName)},children:"Download"})})]},e.id+e.targetLanguage.languageCode)}))})]}),Object(V.jsx)(Je,{show:m,setShow:f,projectId:v,onPaymentComplete:N})]})},He=function(e){var t=e.error,n=e.resetErrorBoundary;return Object(V.jsxs)("div",{children:[Object(V.jsx)(xe,{}),Object(V.jsxs)("section",{className:"home",children:[Object(V.jsx)("h2",{className:"home__title has-text-weight-light",children:t.message}),Object(V.jsx)("div",{className:"columns",children:Object(V.jsx)("div",{className:"home__section column is-half-desktop",children:Object(V.jsx)(i.b,{to:"/",onClick:n,className:"home__button button is-rounded is-medium",children:"Go to home page"})})}),Object(V.jsx)("img",{src:ke,alt:"background",className:"home__background is-hidden-touch"})]})]})},Me=function(){var e=Object(o.b)(),t=Object(o.c)(Z);return Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I();case 2:return n=t.sent,t.next=5,U();case 5:a=t.sent,e(pe(n)),e(de(a)),e(K.loadUser());case 9:case"end":return t.stop()}}),t)})))()}),[]),Object(V.jsx)(h.ErrorBoundary,{FallbackComponent:He,children:Object(V.jsxs)(j.d,{children:[Object(V.jsx)(j.b,{path:"/",element:Object(V.jsx)(ge,{})}),Object(V.jsx)(j.b,{path:"/quote",element:Object(V.jsx)(Te,{})}),t?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(j.b,{path:"/profile",element:(null===t||void 0===t?void 0:t.accountType)===he.User?Object(V.jsx)(Ee,{}):Object(V.jsx)(Le,{})}),Object(V.jsx)(j.b,{path:"/project/:id/:lang",element:Object(V.jsx)(Se,{})}),Object(V.jsx)(j.b,{path:"/projects/my",element:(null===t||void 0===t?void 0:t.accountType)===he.User?Object(V.jsx)(We,{}):Object(V.jsx)(Ue,{})}),Object(V.jsx)(j.b,{path:"/projects",element:Object(V.jsx)(Oe,{})})]}):Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(j.b,{path:"/sign-in",element:Object(V.jsx)(X,{})}),Object(V.jsx)(j.b,{path:"/sign-up",element:Object(V.jsx)(Y,{})})]}),Object(V.jsx)(j.b,{path:"*",element:Object(V.jsx)(j.a,{to:"/",replace:!0})})]})})},$e=n(26),Qe=n(37),Re=Object($e.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.SetUser:return t.value?Object(v.a)({},t.value):null;default:return e}},subjects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.SetSubjects:return Object(le.a)(t.value);default:return e}},languages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.SetLanguages:return Object(le.a)(t.value);default:return e}}}),Ge=Object($e.c)(Re,Object($e.a)(Qe.a));r.a.render(Object(V.jsx)(o.a,{store:Ge,children:Object(V.jsx)(i.a,{children:Object(V.jsx)(s.a.StrictMode,{children:Object(V.jsx)(Me,{})})})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.f315ddd8.chunk.js.map